<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>OpenCV: Tracking API implementation details</title>
<link href="../../opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../tutorial-utils.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams']
  }
};
//<![CDATA[
window.MathJax = {
    loader: {load: ['[tex]/ams']},
    tex: {
        packages: {'[+]': ['ams']},
        macros: {
            matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
            fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
            forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
            forkfour: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ #7 & \\mbox{#8}\\\\ \\end{array} \\right.", 8],
            vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
            vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
            cameramatrix: ["#1 = \\begin{bmatrix} f_x & 0 & c_x\\\\ 0 & f_y & c_y\\\\ 0 & 0 & 1 \\end{bmatrix}", 1],
            distcoeffs: ["(k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6 [, s_1, s_2, s_3, s_4[, \\tau_x, \\tau_y]]]]) \\text{ of 4, 5, 8, 12 or 14 elements}"],
            distcoeffsfisheye: ["(k_1, k_2, k_3, k_4)"],
            hdotsfor: ["\\dots", 1],
            mathbbm: ["\\mathbb{#1}", 1],
            bordermatrix: ["\\matrix{#1}", 1]
        },
        processEscapes: false
    }
};
//]]>
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">4.10.0</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Tracking API implementation details<div class="ingroups"><a class="el" href="../../d9/df8/group__tracking.html">Tracking API</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2><a class="anchor" id="autotoc_md116"></a>
Long-term optical tracking API</h2>
<p>Long-term optical tracking is an important issue for many computer vision applications in real world scenario. The development in this area is very fragmented and this API is an unique interface useful for plug several algorithms and compare them. This work is partially based on <a class="el" href="../../d0/de3/citelist.html#CITEREF_AAM">[231]</a> and <a class="el" href="../../d0/de3/citelist.html#CITEREF_AMVOT">[163]</a> .</p>
<p>These algorithms start from a bounding box of the target and with their internal representation they avoid the drift during the tracking. These long-term trackers are able to evaluate online the quality of the location of the target in the new frame, without ground truth.</p>
<p>There are three main components: the <a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a>, the <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> and the <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a>. The first component is the object that computes the patches over the frame based on the last target location. The <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> is the class that manages the Features, is possible plug many kind of these (HAAR, HOG, LBP, <a class="el" href="../../d0/d13/classcv_1_1Feature2D.html" title="Abstract base class for 2D image feature detectors and descriptor extractors.">Feature2D</a>, etc). The last component is the internal representation of the target, it is the appearance model. It stores all state candidates and compute the trajectory (the most likely target states). The class <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> represents a possible state of the target. The <a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a> and the <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> are the visual representation of the target, instead the <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a> is the statistical model.</p>
<p>A recent benchmark between these algorithms can be found in <a class="el" href="../../d0/de3/citelist.html#CITEREF_OOT">[301]</a></p>
<h2><a class="anchor" id="autotoc_md117"></a>
Creating Your Own %Tracker</h2>
<p>If you want to create a new tracker, here's what you have to do. First, decide on the name of the class for the tracker (to meet the existing style, we suggest something with prefix "tracker", e.g. trackerMIL, trackerBoosting) &ndash; we shall refer to this choice as to "classname" in subsequent.</p>
<ul>
<li>Declare your tracker in modules/tracking/include/opencv2/tracking/tracker.hpp. Your tracker should inherit from <a class="el" href="../../d0/d0a/classcv_1_1Tracker.html" title="Base abstract class for the long-term tracker.">Tracker</a> (please, see the example below). You should declare the specialized Param structure, where you probably will want to put the data, needed to initialize your tracker. You should get something similar to : <div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_define" href="../../db/de0/group__core__utils.html#ga67ea671a3582ce612ac3c281e067f480">CV_EXPORTS_W</a> TrackerMIL : <span class="keyword">public</span> Tracker</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">struct </span>CV_EXPORTS Params</div>
<div class="line">  {</div>
<div class="line">    Params();</div>
<div class="line">    <span class="comment">//parameters for sampler</span></div>
<div class="line">    <span class="keywordtype">float</span> samplerInitInRadius;  <span class="comment">// radius for gathering positive instances during init</span></div>
<div class="line">    <span class="keywordtype">int</span> samplerInitMaxNegNum;  <span class="comment">// # negative samples to use during init</span></div>
<div class="line">    <span class="keywordtype">float</span> samplerSearchWinSize;  <span class="comment">// size of search window</span></div>
<div class="line">    <span class="keywordtype">float</span> samplerTrackInRadius;  <span class="comment">// radius for gathering positive instances during tracking</span></div>
<div class="line">    <span class="keywordtype">int</span> samplerTrackMaxPosNum;  <span class="comment">// # positive samples to use during tracking</span></div>
<div class="line">    <span class="keywordtype">int</span> samplerTrackMaxNegNum;  <span class="comment">// # negative samples to use during tracking</span></div>
<div class="line">    <span class="keywordtype">int</span> featureSetNumFeatures;  <span class="comment">// #features</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> read( <span class="keyword">const</span> FileNode&amp; fn );</div>
<div class="line">    <span class="keywordtype">void</span> write( FileStorage&amp; fs ) <span class="keyword">const</span>;</div>
<div class="line">  };</div>
<div class="ttc" id="agroup__core__utils_html_ga67ea671a3582ce612ac3c281e067f480"><div class="ttname"><a href="../../db/de0/group__core__utils.html#ga67ea671a3582ce612ac3c281e067f480">CV_EXPORTS_W</a></div><div class="ttdeci">#define CV_EXPORTS_W</div><div class="ttdef"><b>Definition</b> cvdef.h:472</div></div>
</div><!-- fragment --> of course, you can also add any additional methods of your choice. It should be pointed out, however, that it is not expected to have a constructor declared, as creation should be done via the corresponding create() method.</li>
<li>Finally, you should implement the function with signature : <div class="fragment"><div class="line">Ptr&lt;classname&gt; classname::create(<span class="keyword">const</span> classname::Params &amp;parameters){</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --> That function can (and probably will) return a pointer to some derived class of "classname", which will probably have a real constructor.</li>
</ul>
<p>Every tracker has three component <a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a>, <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> and <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a>. The first two are instantiated from <a class="el" href="../../d0/d0a/classcv_1_1Tracker.html" title="Base abstract class for the long-term tracker.">Tracker</a> base class, instead the last component is abstract, so you must implement your <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a>.</p>
<h3><a class="anchor" id="autotoc_md118"></a>
TrackerContribSampler</h3>
<p><a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a> is already instantiated, but you should define the sampling algorithm and add the classes (or single class) to <a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a>. You can choose one of the ready implementation as <a class="el" href="../../db/d5e/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerCSC.html" title="TrackerSampler based on CSC (current state centered), used by MIL algorithm TrackerMIL.">TrackerContribSamplerCSC</a> or you can implement your sampling method, in this case the class must inherit <a class="el" href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html" title="Abstract base class for TrackerContribSamplerAlgorithm that represents the algorithm for the specific...">TrackerContribSamplerAlgorithm</a>. Fill the samplingImpl method that writes the result in "sample" output argument.</p>
<p>Example of creating specialized <a class="el" href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html" title="Abstract base class for TrackerContribSamplerAlgorithm that represents the algorithm for the specific...">TrackerContribSamplerAlgorithm</a> <a class="el" href="../../db/d5e/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerCSC.html" title="TrackerSampler based on CSC (current state centered), used by MIL algorithm TrackerMIL.">TrackerContribSamplerCSC</a> : : </p><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_define" href="../../db/de0/group__core__utils.html#ga67ea671a3582ce612ac3c281e067f480">CV_EXPORTS_W</a> TrackerContribSamplerCSC : <span class="keyword">public</span> TrackerContribSamplerAlgorithm</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  TrackerContribSamplerCSC( <span class="keyword">const</span> TrackerContribSamplerCSC::Params &amp;parameters = TrackerContribSamplerCSC::Params() );</div>
<div class="line">  ~TrackerContribSamplerCSC();</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span>:</div>
<div class="line">  <span class="keywordtype">bool</span> samplingImpl( <span class="keyword">const</span> Mat&amp; image, Rect boundingBox, std::vector&lt;Mat&gt;&amp; sample );</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --><p>Example of adding <a class="el" href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html" title="Abstract base class for TrackerContribSamplerAlgorithm that represents the algorithm for the specific...">TrackerContribSamplerAlgorithm</a> to <a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a> : : </p><div class="fragment"><div class="line"><span class="comment">//sampler is the TrackerContribSampler</span></div>
<div class="line">Ptr&lt;TrackerContribSamplerAlgorithm&gt; CSCSampler = <span class="keyword">new</span> TrackerContribSamplerCSC( CSCparameters );</div>
<div class="line"><span class="keywordflow">if</span>( !sampler-&gt;addTrackerSamplerAlgorithm( CSCSampler ) )</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">//or add CSC sampler with default parameters</span></div>
<div class="line"><span class="comment">//sampler-&gt;addTrackerSamplerAlgorithm( &quot;CSC&quot; );</span></div>
</div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/d5e/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerCSC.html" title="TrackerSampler based on CSC (current state centered), used by MIL algorithm TrackerMIL.">TrackerContribSamplerCSC</a>, <a class="el" href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html" title="Abstract base class for TrackerContribSamplerAlgorithm that represents the algorithm for the specific...">TrackerContribSamplerAlgorithm</a></dd></dl>
<h3><a class="anchor" id="autotoc_md119"></a>
TrackerContribFeatureSet</h3>
<p><a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> is already instantiated (as first) , but you should define what kinds of features you'll use in your tracker. You can use multiple feature types, so you can add a ready implementation as <a class="el" href="../../d0/d82/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureHAAR.html" title="TrackerContribFeature based on HAAR features, used by TrackerMIL and many others algorithms.">TrackerContribFeatureHAAR</a> in your <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> or develop your own implementation. In this case, in the computeImpl method put the code that extract the features and in the selection method optionally put the code for the refinement and selection of the features.</p>
<p>Example of creating specialized <a class="el" href="../../d9/d84/classcv_1_1detail_1_1tracking_1_1TrackerFeature.html" title="Abstract base class for TrackerFeature that represents the feature.">TrackerFeature</a> <a class="el" href="../../d0/d82/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureHAAR.html" title="TrackerContribFeature based on HAAR features, used by TrackerMIL and many others algorithms.">TrackerContribFeatureHAAR</a> : : </p><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_define" href="../../db/de0/group__core__utils.html#ga67ea671a3582ce612ac3c281e067f480">CV_EXPORTS_W</a> TrackerContribFeatureHAAR : <span class="keyword">public</span> TrackerFeature</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  TrackerContribFeatureHAAR( <span class="keyword">const</span> TrackerContribFeatureHAAR::Params &amp;parameters = TrackerContribFeatureHAAR::Params() );</div>
<div class="line">  ~TrackerContribFeatureHAAR();</div>
<div class="line">  <span class="keywordtype">void</span> selection( Mat&amp; response, <span class="keywordtype">int</span> npoints );</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span>:</div>
<div class="line">  <span class="keywordtype">bool</span> computeImpl( <span class="keyword">const</span> std::vector&lt;Mat&gt;&amp; images, Mat&amp; response );</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --><p> Example of adding <a class="el" href="../../d9/d84/classcv_1_1detail_1_1tracking_1_1TrackerFeature.html" title="Abstract base class for TrackerFeature that represents the feature.">TrackerFeature</a> to <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a> : : </p><div class="fragment"><div class="line"><span class="comment">//featureSet is the TrackerContribFeatureSet</span></div>
<div class="line">Ptr&lt;TrackerFeature&gt; trackerFeature = <span class="keyword">new</span> TrackerContribFeatureHAAR( HAARparameters );</div>
<div class="line">featureSet-&gt;addTrackerFeature( trackerFeature );</div>
</div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/d82/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureHAAR.html" title="TrackerContribFeature based on HAAR features, used by TrackerMIL and many others algorithms.">TrackerContribFeatureHAAR</a>, <a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html" title="Class that manages the extraction and selection of features.">TrackerContribFeatureSet</a></dd></dl>
<h3><a class="anchor" id="autotoc_md120"></a>
TrackerModel</h3>
<p><a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a> is abstract, so in your implementation you must develop your <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a> that inherit from <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a>. Fill the method for the estimation of the state "modelEstimationImpl", that estimates the most likely target location, see <a class="el" href="../../d0/de3/citelist.html#CITEREF_AAM">[231]</a> table I (ME) for further information. Fill "modelUpdateImpl" in order to update the model, see <a class="el" href="../../d0/de3/citelist.html#CITEREF_AAM">[231]</a> table I (MU). In this class you can use the :cConfidenceMap and :cTrajectory to storing the model. The first represents the model on the all possible candidate states and the second represents the list of all estimated states.</p>
<p>Example of creating specialized <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a> TrackerMILModel : : </p><div class="fragment"><div class="line"><span class="keyword">class </span>TrackerMILModel : <span class="keyword">public</span> TrackerModel</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  TrackerMILModel( <span class="keyword">const</span> Rect&amp; boundingBox );</div>
<div class="line">  ~TrackerMILModel();</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span>:</div>
<div class="line">  <span class="keywordtype">void</span> modelEstimationImpl( <span class="keyword">const</span> std::vector&lt;Mat&gt;&amp; responses );</div>
<div class="line">  <span class="keywordtype">void</span> modelUpdateImpl();</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --><p> And add it in your <a class="el" href="../../d0/d0a/classcv_1_1Tracker.html" title="Base abstract class for the long-term tracker.">Tracker</a> : : </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> TrackerMIL::initImpl( <span class="keyword">const</span> Mat&amp; image, <span class="keyword">const</span> <a class="code hl_typedef" href="../../dc/d84/group__core__basic.html#ga894fe0940d40d4d65f008a2ca4e616bd">Rect2d</a>&amp; boundingBox )</div>
<div class="line">{</div>
<div class="line">  ...</div>
<div class="line">  <span class="comment">//model is the general TrackerModel field of the general Tracker</span></div>
<div class="line">  model = <span class="keyword">new</span> TrackerMILModel( boundingBox );</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="ttc" id="agroup__core__basic_html_ga894fe0940d40d4d65f008a2ca4e616bd"><div class="ttname"><a href="../../dc/d84/group__core__basic.html#ga894fe0940d40d4d65f008a2ca4e616bd">cv::Rect2d</a></div><div class="ttdeci">Rect_&lt; double &gt; Rect2d</div><div class="ttdef"><b>Definition</b> types.hpp:488</div></div>
</div><!-- fragment --><p> In the last step you should define the <a class="el" href="../../d8/dd0/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimator.html" title="Abstract base class for TrackerStateEstimator that estimates the most likely target state.">TrackerStateEstimator</a> based on your implementation or you can use one of ready class as TrackerStateEstimatorMILBoosting. It represent the statistical part of the model that estimates the most likely target state.</p>
<p>Example of creating specialized <a class="el" href="../../d8/dd0/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimator.html" title="Abstract base class for TrackerStateEstimator that estimates the most likely target state.">TrackerStateEstimator</a> TrackerStateEstimatorMILBoosting : : </p><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_define" href="../../db/de0/group__core__utils.html#ga67ea671a3582ce612ac3c281e067f480">CV_EXPORTS_W</a> TrackerStateEstimatorMILBoosting : <span class="keyword">public</span> TrackerStateEstimator</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">class </span>TrackerMILTargetState : <span class="keyword">public</span> TrackerTargetState</div>
<div class="line"> {</div>
<div class="line"> ...</div>
<div class="line"> };</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  TrackerStateEstimatorMILBoosting( <span class="keywordtype">int</span> nFeatures = 250 );</div>
<div class="line">  ~TrackerStateEstimatorMILBoosting();</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">protected</span>:</div>
<div class="line">  Ptr&lt;TrackerTargetState&gt; estimateImpl( <span class="keyword">const</span> std::vector&lt;ConfidenceMap&gt;&amp; confidenceMaps );</div>
<div class="line">  <span class="keywordtype">void</span> updateImpl( std::vector&lt;ConfidenceMap&gt;&amp; confidenceMaps );</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --><p> And add it in your <a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a> : : </p><div class="fragment"><div class="line"><span class="comment">//model is the TrackerModel of your Tracker</span></div>
<div class="line">Ptr&lt;TrackerStateEstimatorMILBoosting&gt; stateEstimator = <span class="keyword">new</span> TrackerStateEstimatorMILBoosting( params.featureSetNumFeatures );</div>
<div class="line">model-&gt;setTrackerStateEstimator( stateEstimator );</div>
</div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html" title="Abstract class that represents the model of the target.">TrackerModel</a>, TrackerStateEstimatorMILBoosting, <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a></dd></dl>
<p>During this step, you should define your <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> based on your implementation. <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> base class has only the bounding box (upper-left position, width and height), you can enrich it adding scale factor, target rotation, etc.</p>
<p>Example of creating specialized <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> TrackerMILTargetState : : </p><div class="fragment"><div class="line"><span class="keyword">class </span>TrackerMILTargetState : <span class="keyword">public</span> TrackerTargetState</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  TrackerMILTargetState( <span class="keyword">const</span> Point2f&amp; position, <span class="keywordtype">int</span> targetWidth, <span class="keywordtype">int</span> targetHeight, <span class="keywordtype">bool</span> foreground, <span class="keyword">const</span> Mat&amp; features );</div>
<div class="line">  ~TrackerMILTargetState();</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">bool</span> isTarget;</div>
<div class="line">  Mat targetFeatures;</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">};</div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:d3/dbe/namespacecv_1_1detail_1_1tracking_1_1contrib__feature" id="r_d3/dbe/namespacecv_1_1detail_1_1tracking_1_1contrib__feature"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dbe/namespacecv_1_1detail_1_1tracking_1_1contrib__feature.html">cv::detail::tracking::contrib_feature</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d1/d9b/namespacecv_1_1detail_1_1tracking_1_1kalman__filters" id="r_d1/d9b/namespacecv_1_1detail_1_1tracking_1_1kalman__filters"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d9b/namespacecv_1_1detail_1_1tracking_1_1kalman__filters.html">cv::detail::tracking::kalman_filters</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d2/dea/namespacecv_1_1detail_1_1tracking_1_1online__boosting" id="r_d2/dea/namespacecv_1_1detail_1_1tracking_1_1online__boosting"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dea/namespacecv_1_1detail_1_1tracking_1_1online__boosting.html">cv::detail::tracking::online_boosting</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:dc/d5e/namespacecv_1_1detail_1_1tracking_1_1tbm" id="r_dc/d5e/namespacecv_1_1detail_1_1tracking_1_1tbm"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d5e/namespacecv_1_1detail_1_1tracking_1_1tbm.html">cv::detail::tracking::tbm</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d3/dd8/namespacecv_1_1detail_1_1tracking_1_1tld" id="r_d3/dd8/namespacecv_1_1detail_1_1tracking_1_1tld"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dd8/namespacecv_1_1detail_1_1tracking_1_1tld.html">cv::detail::tracking::tld</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html">cv::detail::tracking::TrackerContribFeature</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for <a class="el" href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html" title="Abstract base class for TrackerContribFeature that represents the feature.">TrackerContribFeature</a> that represents the feature.  <a href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d82/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureHAAR.html">cv::detail::tracking::TrackerContribFeatureHAAR</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html" title="Abstract base class for TrackerContribFeature that represents the feature.">TrackerContribFeature</a> based on HAAR features, used by <a class="el" href="../../d0/d26/classcv_1_1TrackerMIL.html" title="The MIL algorithm trains a classifier in an online manner to separate the object from the background.">TrackerMIL</a> and many others algorithms.  <a href="../../d0/d82/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureHAAR.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html">cv::detail::tracking::TrackerContribFeatureSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that manages the extraction and selection of features.  <a href="../../dd/d4e/classcv_1_1detail_1_1tracking_1_1TrackerContribFeatureSet.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html">cv::detail::tracking::TrackerContribSampler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that manages the sampler in order to select regions for the update the model of the tracker [AAM] Sampling e Labeling. See table I and section III B.  <a href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html">cv::detail::tracking::TrackerContribSamplerAlgorithm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for <a class="el" href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html" title="Abstract base class for TrackerContribSamplerAlgorithm that represents the algorithm for the specific...">TrackerContribSamplerAlgorithm</a> that represents the algorithm for the specific sampler.  <a href="../../dc/d27/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerAlgorithm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerCSC.html">cv::detail::tracking::TrackerContribSamplerCSC</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dc/d24/classcv_1_1detail_1_1tracking_1_1TrackerSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerSampler</a> based on CSC (current state centered), used by MIL algorithm <a class="el" href="../../d0/d26/classcv_1_1TrackerMIL.html" title="The MIL algorithm trains a classifier in an online manner to separate the object from the background.">TrackerMIL</a>.  <a href="../../db/d5e/classcv_1_1detail_1_1tracking_1_1TrackerContribSamplerCSC.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d84/classcv_1_1detail_1_1tracking_1_1TrackerFeature.html">cv::detail::tracking::TrackerFeature</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for <a class="el" href="../../d9/d84/classcv_1_1detail_1_1tracking_1_1TrackerFeature.html" title="Abstract base class for TrackerFeature that represents the feature.">TrackerFeature</a> that represents the feature.  <a href="../../d9/d84/classcv_1_1detail_1_1tracking_1_1TrackerFeature.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d24/classcv_1_1detail_1_1tracking_1_1TrackerFeatureFeature2d.html">cv::detail::tracking::TrackerFeatureFeature2d</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html" title="Abstract base class for TrackerContribFeature that represents the feature.">TrackerContribFeature</a> based on <a class="el" href="../../d0/d13/classcv_1_1Feature2D.html" title="Abstract base class for 2D image feature detectors and descriptor extractors.">Feature2D</a>.  <a href="../../d7/d24/classcv_1_1detail_1_1tracking_1_1TrackerFeatureFeature2d.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d64/classcv_1_1detail_1_1tracking_1_1TrackerFeatureHOG.html">cv::detail::tracking::TrackerFeatureHOG</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html" title="Abstract base class for TrackerContribFeature that represents the feature.">TrackerContribFeature</a> based on HOG.  <a href="../../d0/d64/classcv_1_1detail_1_1tracking_1_1TrackerFeatureHOG.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d77/classcv_1_1detail_1_1tracking_1_1TrackerFeatureLBP.html">cv::detail::tracking::TrackerFeatureLBP</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d5/d1b/classcv_1_1detail_1_1tracking_1_1TrackerContribFeature.html" title="Abstract base class for TrackerContribFeature that represents the feature.">TrackerContribFeature</a> based on LBP.  <a href="../../d9/d77/classcv_1_1detail_1_1tracking_1_1TrackerFeatureLBP.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da4/classcv_1_1detail_1_1tracking_1_1TrackerFeatureSet.html">cv::detail::tracking::TrackerFeatureSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that manages the extraction and selection of features.  <a href="../../df/da4/classcv_1_1detail_1_1tracking_1_1TrackerFeatureSet.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html">cv::detail::tracking::TrackerModel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract class that represents the model of the target.  <a href="../../da/dba/classcv_1_1detail_1_1tracking_1_1TrackerModel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d24/classcv_1_1detail_1_1tracking_1_1TrackerSampler.html">cv::detail::tracking::TrackerSampler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class that manages the sampler in order to select regions for the update the model of the tracker [AAM] Sampling e Labeling. See table I and section III B.  <a href="../../dc/d24/classcv_1_1detail_1_1tracking_1_1TrackerSampler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d0a/classcv_1_1detail_1_1tracking_1_1TrackerSamplerAlgorithm.html">cv::detail::tracking::TrackerSamplerAlgorithm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for <a class="el" href="../../de/d0a/classcv_1_1detail_1_1tracking_1_1TrackerSamplerAlgorithm.html" title="Abstract base class for TrackerSamplerAlgorithm that represents the algorithm for the specific sample...">TrackerSamplerAlgorithm</a> that represents the algorithm for the specific sampler.  <a href="../../de/d0a/classcv_1_1detail_1_1tracking_1_1TrackerSamplerAlgorithm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classcv_1_1detail_1_1tracking_1_1TrackerSamplerCS.html">cv::detail::tracking::TrackerSamplerCS</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dc/dd7/classcv_1_1detail_1_1tracking_1_1TrackerContribSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerContribSampler</a> based on CS (current state), used by algorithm TrackerBoosting.  <a href="../../d0/d58/classcv_1_1detail_1_1tracking_1_1TrackerSamplerCS.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d59/classcv_1_1detail_1_1tracking_1_1TrackerSamplerCSC.html">cv::detail::tracking::TrackerSamplerCSC</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dc/d24/classcv_1_1detail_1_1tracking_1_1TrackerSampler.html" title="Class that manages the sampler in order to select regions for the update the model of the tracker [AA...">TrackerSampler</a> based on CSC (current state centered), used by MIL algorithm <a class="el" href="../../d0/d26/classcv_1_1TrackerMIL.html" title="The MIL algorithm trains a classifier in an online manner to separate the object from the background.">TrackerMIL</a>.  <a href="../../da/d59/classcv_1_1detail_1_1tracking_1_1TrackerSamplerCSC.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d35/classcv_1_1detail_1_1tracking_1_1TrackerSamplerPF.html">cv::detail::tracking::TrackerSamplerPF</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This sampler is based on particle filtering.  <a href="../../d5/d35/classcv_1_1detail_1_1tracking_1_1TrackerSamplerPF.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd0/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimator.html">cv::detail::tracking::TrackerStateEstimator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for <a class="el" href="../../d8/dd0/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimator.html" title="Abstract base class for TrackerStateEstimator that estimates the most likely target state.">TrackerStateEstimator</a> that estimates the most likely target state.  <a href="../../d8/dd0/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d10/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimatorAdaBoosting.html">cv::detail::tracking::TrackerStateEstimatorAdaBoosting</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d5/d10/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimatorAdaBoosting.html" title="TrackerStateEstimatorAdaBoosting based on ADA-Boosting.">TrackerStateEstimatorAdaBoosting</a> based on ADA-Boosting.  <a href="../../d5/d10/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimatorAdaBoosting.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d6e/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimatorSVM.html">cv::detail::tracking::TrackerStateEstimatorSVM</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../d8/dd0/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimator.html" title="Abstract base class for TrackerStateEstimator that estimates the most likely target state.">TrackerStateEstimator</a> based on SVM.  <a href="../../d2/d6e/classcv_1_1detail_1_1tracking_1_1TrackerStateEstimatorSVM.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html">cv::detail::tracking::TrackerTargetState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> that represents a possible state of the target.  <a href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga67c9939022cafc96f51089517d7636e5" id="r_ga67c9939022cafc96f51089517d7636e5"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::pair&lt; <a class="el" href="../../dc/d84/group__core__basic.html#ga6395ca871a678020c4a31fadf7e8cc63">Ptr</a>&lt; <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html">TrackerTargetState</a> &gt;, float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/group__tracking__detail.html#ga67c9939022cafc96f51089517d7636e5">cv::detail::tracking::ConfidenceMap</a></td></tr>
<tr class="memdesc:ga67c9939022cafc96f51089517d7636e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the model of the target at frame \(k\) (all states and scores)  <br /></td></tr>
<tr class="separator:ga67c9939022cafc96f51089517d7636e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d9e680e8f85f20e15c917ab1ddc9fdd" id="r_ga5d9e680e8f85f20e15c917ab1ddc9fdd"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="../../dc/d84/group__core__basic.html#ga6395ca871a678020c4a31fadf7e8cc63">Ptr</a>&lt; <a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html">TrackerTargetState</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/group__tracking__detail.html#ga5d9e680e8f85f20e15c917ab1ddc9fdd">cv::detail::tracking::Trajectory</a></td></tr>
<tr class="memdesc:ga5d9e680e8f85f20e15c917ab1ddc9fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the estimate states for all frames.  <br /></td></tr>
<tr class="separator:ga5d9e680e8f85f20e15c917ab1ddc9fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4618f5f8ed8f91c4a23f90418b33a3a2" id="r_ga4618f5f8ed8f91c4a23f90418b33a3a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/group__tracking__detail.html#ga4618f5f8ed8f91c4a23f90418b33a3a2">cv::detail::tracking::computeInteractionMatrix</a> (const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;uv, const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;depths, const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;K, <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;J)</td></tr>
<tr class="memdesc:ga4618f5f8ed8f91c4a23f90418b33a3a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the interaction matrix ( <a class="el" href="../../d0/de3/citelist.html#CITEREF_Hutchinson1996ATO">[132]</a> <a class="el" href="../../d0/de3/citelist.html#CITEREF_chaumette:inria-00350283">[52]</a> <a class="el" href="../../d0/de3/citelist.html#CITEREF_chaumette:inria-00350638">[53]</a> ) for a set of 2D pixels. This is usually used in visual servoing applications to command a robot to move at desired pixel locations/velocities. By inverting this matrix, one can estimate camera spatial velocity i.e., the twist.  <br /></td></tr>
<tr class="separator:ga4618f5f8ed8f91c4a23f90418b33a3a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf95c610e07549eff7ca45b8b2dafb57" id="r_gacf95c610e07549eff7ca45b8b2dafb57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d84/group__core__basic.html#ga07a801beb07134f7090e3d789ca7c324">cv::Vec6d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d0b/group__tracking__detail.html#gacf95c610e07549eff7ca45b8b2dafb57">cv::detail::tracking::computeTwist</a> (const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;uv, const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;duv, const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;depths, const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;K)</td></tr>
<tr class="memdesc:gacf95c610e07549eff7ca45b8b2dafb57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the camera twist from a set of 2D pixel locations, their velocities, depth values and intrinsic parameters of the camera. The pixel velocities are usually obtained from optical flow algorithms, both dense and sparse flow can be used to compute the flow between images and <code>duv</code> computed by dividing the flow by the time interval between the images.  <br /></td></tr>
<tr class="separator:gacf95c610e07549eff7ca45b8b2dafb57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga67c9939022cafc96f51089517d7636e5" name="ga67c9939022cafc96f51089517d7636e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67c9939022cafc96f51089517d7636e5">&#9670;&#160;</a></span>ConfidenceMap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;std::pair&lt;<a class="el" href="../../dc/d84/group__core__basic.html#ga6395ca871a678020c4a31fadf7e8cc63">Ptr</a>&lt;<a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html">TrackerTargetState</a>&gt;, float&gt; &gt; <a class="el" href="../../d5/d0b/group__tracking__detail.html#ga67c9939022cafc96f51089517d7636e5">cv::detail::tracking::ConfidenceMap</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="../../d7/d65/tracking_8detail_8hpp.html">opencv2/video/detail/tracking.detail.hpp</a>&gt;</code></p>

<p>Represents the model of the target at frame \(k\) (all states and scores) </p>
<p>See <a class="el" href="../../d0/de3/citelist.html#CITEREF_AAM">[231]</a> The set of the pair \(\langle \hat{x}^{i}_{k}, C^{i}_{k} \rangle\) </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> </dd></dl>

</div>
</div>
<a id="ga5d9e680e8f85f20e15c917ab1ddc9fdd" name="ga5d9e680e8f85f20e15c917ab1ddc9fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d9e680e8f85f20e15c917ab1ddc9fdd">&#9670;&#160;</a></span>Trajectory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="../../dc/d84/group__core__basic.html#ga6395ca871a678020c4a31fadf7e8cc63">Ptr</a>&lt;<a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html">TrackerTargetState</a>&gt; &gt; <a class="el" href="../../d5/d0b/group__tracking__detail.html#ga5d9e680e8f85f20e15c917ab1ddc9fdd">cv::detail::tracking::Trajectory</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="../../d7/d65/tracking_8detail_8hpp.html">opencv2/video/detail/tracking.detail.hpp</a>&gt;</code></p>

<p>Represents the estimate states for all frames. </p>
<p><a class="el" href="../../d0/de3/citelist.html#CITEREF_AAM">[231]</a> \(x_{k}\) is the trajectory of the target up to time \(k\)</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d1b/classcv_1_1detail_1_1tracking_1_1TrackerTargetState.html" title="Abstract base class for TrackerTargetState that represents a possible state of the target.">TrackerTargetState</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4618f5f8ed8f91c4a23f90418b33a3a2" name="ga4618f5f8ed8f91c4a23f90418b33a3a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4618f5f8ed8f91c4a23f90418b33a3a2">&#9670;&#160;</a></span>computeInteractionMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cv::detail::tracking::computeInteractionMatrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>depths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>K</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>J</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="../../d4/d6b/twist_8hpp.html">opencv2/tracking/twist.hpp</a>&gt;</code></p>

<p>Compute the interaction matrix ( <a class="el" href="../../d0/de3/citelist.html#CITEREF_Hutchinson1996ATO">[132]</a> <a class="el" href="../../d0/de3/citelist.html#CITEREF_chaumette:inria-00350283">[52]</a> <a class="el" href="../../d0/de3/citelist.html#CITEREF_chaumette:inria-00350638">[53]</a> ) for a set of 2D pixels. This is usually used in visual servoing applications to command a robot to move at desired pixel locations/velocities. By inverting this matrix, one can estimate camera spatial velocity i.e., the twist. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uv</td><td>2xN matrix of 2D pixel locations </td></tr>
    <tr><td class="paramname">depths</td><td>1xN matrix of depth values </td></tr>
    <tr><td class="paramname">K</td><td>3x3 camera intrinsic matrix </td></tr>
    <tr><td class="paramname">J</td><td>2Nx6 interaction matrix </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacf95c610e07549eff7ca45b8b2dafb57" name="gacf95c610e07549eff7ca45b8b2dafb57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf95c610e07549eff7ca45b8b2dafb57">&#9670;&#160;</a></span>computeTwist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d84/group__core__basic.html#ga07a801beb07134f7090e3d789ca7c324">cv::Vec6d</a> cv::detail::tracking::computeTwist </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>duv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>depths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a> &amp;&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="../../d4/d6b/twist_8hpp.html">opencv2/tracking/twist.hpp</a>&gt;</code></p>

<p>Compute the camera twist from a set of 2D pixel locations, their velocities, depth values and intrinsic parameters of the camera. The pixel velocities are usually obtained from optical flow algorithms, both dense and sparse flow can be used to compute the flow between images and <code>duv</code> computed by dividing the flow by the time interval between the images. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uv</td><td>2xN matrix of 2D pixel locations </td></tr>
    <tr><td class="paramname">duv</td><td>2Nx1 matrix of 2D pixel velocities </td></tr>
    <tr><td class="paramname">depths</td><td>1xN matrix of depth values </td></tr>
    <tr><td class="paramname">K</td><td>3x3 camera intrinsic matrix</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dc/d84/group__core__basic.html#ga07a801beb07134f7090e3d789ca7c324">cv::Vec6d</a> 6x1 camera twist </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 21:52:15 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.9.8
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
