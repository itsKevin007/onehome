<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>OpenCV: Hit-or-Miss</title>
<link href="../../opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../tutorial-utils.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams']
  }
};
//<![CDATA[
window.MathJax = {
    loader: {load: ['[tex]/ams']},
    tex: {
        packages: {'[+]': ['ams']},
        macros: {
            matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
            fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
            forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
            forkfour: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ #7 & \\mbox{#8}\\\\ \\end{array} \\right.", 8],
            vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
            vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
            cameramatrix: ["#1 = \\begin{bmatrix} f_x & 0 & c_x\\\\ 0 & f_y & c_y\\\\ 0 & 0 & 1 \\end{bmatrix}", 1],
            distcoeffs: ["(k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6 [, s_1, s_2, s_3, s_4[, \\tau_x, \\tau_y]]]]) \\text{ of 4, 5, 8, 12 or 14 elements}"],
            distcoeffsfisheye: ["(k_1, k_2, k_3, k_4)"],
            hdotsfor: ["\\dots", 1],
            mathbbm: ["\\mathbb{#1}", 1],
            bordermatrix: ["\\matrix{#1}", 1]
        },
        processEscapes: false
    }
};
//]]>
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">4.10.0</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/df8/tutorial_root.html">OpenCV Tutorials</a></li><li class="navelem"><a class="el" href="../../d7/da8/tutorial_table_of_content_imgproc.html">Image Processing (imgproc module)</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Hit-or-Miss</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md612">Goal</a></li>
<li class="level1"><a href="#autotoc_md613">Hit-or-Miss theory</a></li>
<li class="level1"><a href="#autotoc_md614">Code</a></li>
<li class="level1"><a href="#autotoc_md615">Other examples</a></li>
</ul>
</div>
<div class="textblock"><p><b>Prev Tutorial:</b> <a class="el" href="../../d3/dbe/tutorial_opening_closing_hats.html">More Morphology Transformations</a> <br  />
<b>Next Tutorial:</b> <a class="el" href="../../dd/dd7/tutorial_morph_lines_detection.html">Extract horizontal and vertical lines by using morphological operations</a> <br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight"></th><th class="markdownTableHeadLeft"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">Original author   </td><td class="markdownTableBodyLeft">Lorena Garc√≠a    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">Compatibility   </td><td class="markdownTableBodyLeft">OpenCV &gt;= 3.0   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md612"></a>
Goal</h1>
<p>In this tutorial you will learn how to find a given configuration or pattern in a binary image by using the Hit-or-Miss transform (also known as Hit-and-Miss transform). This transform is also the basis of more advanced morphological operations such as thinning or pruning.</p>
<p>We will use the OpenCV function <b>morphologyEx()</b> .</p>
<h1><a class="anchor" id="autotoc_md613"></a>
Hit-or-Miss theory</h1>
<p>Morphological operators process images based on their shape. These operators apply one or more <em>structuring elements</em> to an input image to obtain the output image. The two basic morphological operations are the <em>erosion</em> and the <em>dilation</em>. The combination of these two operations generate advanced morphological transformations such as <em>opening</em>, <em>closing</em>, or <em>top-hat</em> transform. To know more about these and other basic morphological operations refer to previous tutorials (<a class="el" href="../../db/df6/tutorial_erosion_dilatation.html">Eroding and Dilating</a>) and (<a class="el" href="../../d3/dbe/tutorial_opening_closing_hats.html">More Morphology Transformations</a>).</p>
<p>The Hit-or-Miss transformation is useful to find patterns in binary images. In particular, it finds those pixels whose neighbourhood matches the shape of a first structuring element \(B_1\) while not matching the shape of a second structuring element \(B_2\) at the same time. Mathematically, the operation applied to an image \(A\) can be expressed as follows:  </p><p class="formulaDsp">
\[
    A\circledast B = (A\ominus B_1) \cap (A^c\ominus B_2)
\]
</p>
<p>Therefore, the hit-or-miss operation comprises three steps:</p><ol type="1">
<li>Erode image \(A\) with structuring element \(B_1\).</li>
<li>Erode the complement of image \(A\) ( \(A^c\)) with structuring element \(B_2\).</li>
<li>AND results from step 1 and step 2.</li>
</ol>
<p>The structuring elements \(B_1\) and \(B_2\) can be combined into a single element \(B\). Let's see an example: <img src="../../hitmiss_kernels.png" alt="" class="inline" title="Structuring elements (kernels). Left: kernel to 'hit'. Middle: kernel to 'miss'. Right: final combined kernel"/>    </p>
<p>In this case, we are looking for a pattern in which the central pixel belongs to the background while the north, south, east, and west pixels belong to the foreground. The rest of pixels in the neighbourhood can be of any kind, we don't care about them. Now, let's apply this kernel to an input image:</p>
<p><img src="../../hitmiss_input.png" alt="" class="inline" title="Input binary image"/>     <img src="../../hitmiss_output.png" alt="" class="inline" title="Output binary image"/>    </p>
<p>You can see that the pattern is found in just one location within the image.</p>
<h1><a class="anchor" id="autotoc_md614"></a>
Code</h1>
<p>The code corresponding to the previous example is shown below.</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'><p> You can also download it from <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/cpp/tutorial_code/ImgProc/HitMiss/HitMiss.cpp" target="_blank">here</a> </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d0/d9c/core_2include_2opencv2_2core_8hpp.html">opencv2/core.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d1/d4f/imgproc_2include_2opencv2_2imgproc_8hpp.html">opencv2/imgproc.hpp</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d4/dd5/highgui_8hpp.html">opencv2/highgui.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d2/d75/namespacecv.html">cv</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(){</div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> input_image = (<a class="code hl_class" href="../../df/dfc/classcv_1_1Mat__.html">Mat_&lt;uchar&gt;</a>(8, 8) &lt;&lt;</div>
<div class="line">        0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">        0, 255, 255, 255, 0, 0, 0, 255,</div>
<div class="line">        0, 255, 255, 255, 0, 0, 0, 0,</div>
<div class="line">        0, 255, 255, 255, 0, 255, 0, 0,</div>
<div class="line">        0, 0, 255, 0, 0, 0, 0, 0,</div>
<div class="line">        0, 0, 255, 0, 0, 255, 255, 0,</div>
<div class="line">        0, 255, 0, 255, 0, 0, 255, 0,</div>
<div class="line">        0, 255, 255, 255, 0, 0, 0, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> kernel = (<a class="code hl_class" href="../../df/dfc/classcv_1_1Mat__.html">Mat_&lt;int&gt;</a>(3, 3) &lt;&lt;</div>
<div class="line">        0, 1, 0,</div>
<div class="line">        1, -1, 1,</div>
<div class="line">        0, 1, 0);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> output_image;</div>
<div class="line">    morphologyEx(input_image, output_image, MORPH_HITMISS, kernel);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> rate = 50;</div>
<div class="line">    kernel = (kernel + 1) * 127;</div>
<div class="line">    kernel.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#adf88c60c5b4980e05bb556080916978b">convertTo</a>(kernel, <a class="code hl_define" href="../../d1/d1b/group__core__hal__interface.html#ga32b18d904ee2b1731a9416a8eef67d06">CV_8U</a>);</div>
<div class="line"> </div>
<div class="line">    resize(kernel, kernel, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>(), rate, rate, INTER_NEAREST);</div>
<div class="line">    imshow(<span class="stringliteral">&quot;kernel&quot;</span>, kernel);</div>
<div class="line">    moveWindow(<span class="stringliteral">&quot;kernel&quot;</span>, 0, 0);</div>
<div class="line"> </div>
<div class="line">    resize(input_image, input_image, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>(), rate, rate, INTER_NEAREST);</div>
<div class="line">    imshow(<span class="stringliteral">&quot;Original&quot;</span>, input_image);</div>
<div class="line">    moveWindow(<span class="stringliteral">&quot;Original&quot;</span>, 0, 200);</div>
<div class="line"> </div>
<div class="line">    resize(output_image, output_image, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>(), rate, rate, INTER_NEAREST);</div>
<div class="line">    imshow(<span class="stringliteral">&quot;Hit or Miss&quot;</span>, output_image);</div>
<div class="line">    moveWindow(<span class="stringliteral">&quot;Hit or Miss&quot;</span>, 500, 200);</div>
<div class="line"> </div>
<div class="line">    waitKey(0);</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclasscv_1_1Mat___html"><div class="ttname"><a href="../../df/dfc/classcv_1_1Mat__.html">cv::Mat_</a></div><div class="ttdoc">Template matrix class derived from Mat.</div><div class="ttdef"><b>Definition</b> mat.hpp:2230</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a></div><div class="ttdoc">n-dimensional dense array class</div><div class="ttdef"><b>Definition</b> mat.hpp:812</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_adf88c60c5b4980e05bb556080916978b"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#adf88c60c5b4980e05bb556080916978b">cv::Mat::convertTo</a></div><div class="ttdeci">void convertTo(OutputArray m, int rtype, double alpha=1, double beta=0) const</div><div class="ttdoc">Converts an array to another data type with optional scaling.</div></div>
<div class="ttc" id="aclasscv_1_1Size___html"><div class="ttname"><a href="../../d6/d50/classcv_1_1Size__.html">cv::Size_</a></div><div class="ttdoc">Template class for specifying the size of an image or rectangle.</div><div class="ttdef"><b>Definition</b> types.hpp:335</div></div>
<div class="ttc" id="acore_2include_2opencv2_2core_8hpp_html"><div class="ttname"><a href="../../d0/d9c/core_2include_2opencv2_2core_8hpp.html">core.hpp</a></div></div>
<div class="ttc" id="agroup__core__hal__interface_html_ga32b18d904ee2b1731a9416a8eef67d06"><div class="ttname"><a href="../../d1/d1b/group__core__hal__interface.html#ga32b18d904ee2b1731a9416a8eef67d06">CV_8U</a></div><div class="ttdeci">#define CV_8U</div><div class="ttdef"><b>Definition</b> interface.h:73</div></div>
<div class="ttc" id="ahighgui_8hpp_html"><div class="ttname"><a href="../../d4/dd5/highgui_8hpp.html">highgui.hpp</a></div></div>
<div class="ttc" id="ahighgui__qt_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> highgui_qt.cpp:3</div></div>
<div class="ttc" id="aimgproc_2include_2opencv2_2imgproc_8hpp_html"><div class="ttname"><a href="../../d1/d4f/imgproc_2include_2opencv2_2imgproc_8hpp.html">imgproc.hpp</a></div></div>
<div class="ttc" id="anamespacecv_html"><div class="ttname"><a href="../../d2/d75/namespacecv.html">cv</a></div><div class="ttdoc">&quot;black box&quot; representation of the file storage associated with a file on disk.</div><div class="ttdef"><b>Definition</b> core.hpp:102</div></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'><p> You can also download it from <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/java/tutorial_code/ImgProc/HitMiss/HitMiss.java" target="_blank">here</a> </p><div class="fragment"><div class="line"><span class="keyword">import</span> org.opencv.core.*;</div>
<div class="line"><span class="keyword">import</span> org.opencv.highgui.HighGui;</div>
<div class="line"><span class="keyword">import</span> org.opencv.imgproc.Imgproc;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>HitMissRun{</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run() {</div>
<div class="line">        Mat input_image = <span class="keyword">new</span> Mat( 8, 8, CvType.CV_8UC1 );</div>
<div class="line">        <span class="keywordtype">int</span> row = 0, col = 0;</div>
<div class="line">        input_image.put(row ,col,</div>
<div class="line">                0, 0, 0, 0, 0, 0, 0, 0,</div>
<div class="line">                0, 255, 255, 255, 0, 0, 0, 255,</div>
<div class="line">                0, 255, 255, 255, 0, 0, 0, 0,</div>
<div class="line">                0, 255, 255, 255, 0, 255, 0, 0,</div>
<div class="line">                0, 0, 255, 0, 0, 0, 0, 0,</div>
<div class="line">                0, 0, 255, 0, 0, 255, 255, 0,</div>
<div class="line">                0, 255, 0, 255, 0, 0, 255, 0,</div>
<div class="line">                0, 255, 255, 255, 0, 0, 0, 0);</div>
<div class="line"> </div>
<div class="line">        Mat kernel = <span class="keyword">new</span> Mat( 3, 3, CvType.CV_16S );</div>
<div class="line">        kernel.put(row ,col,</div>
<div class="line">                0, 1, 0,</div>
<div class="line">                1, -1, 1,</div>
<div class="line">                0, 1, 0 );</div>
<div class="line"> </div>
<div class="line">        Mat output_image = <span class="keyword">new</span> Mat();</div>
<div class="line">        Imgproc.morphologyEx(input_image, output_image, Imgproc.MORPH_HITMISS, kernel);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">int</span> rate = 50;</div>
<div class="line">        Core.add(kernel, <span class="keyword">new</span> Scalar(1), kernel);</div>
<div class="line">        Core.multiply(kernel, <span class="keyword">new</span> Scalar(127), kernel);</div>
<div class="line">        kernel.convertTo(kernel, CvType.CV_8U);</div>
<div class="line"> </div>
<div class="line">        Imgproc.resize(kernel, kernel, <span class="keyword">new</span> Size(), rate, rate, Imgproc.INTER_NEAREST);</div>
<div class="line">        HighGui.imshow(<span class="stringliteral">&quot;kernel&quot;</span>, kernel);</div>
<div class="line">        HighGui.moveWindow(<span class="stringliteral">&quot;kernel&quot;</span>, 0, 0);</div>
<div class="line"> </div>
<div class="line">        Imgproc.resize(input_image, input_image, <span class="keyword">new</span> Size(), rate, rate, Imgproc.INTER_NEAREST);</div>
<div class="line">        HighGui.imshow(<span class="stringliteral">&quot;Original&quot;</span>, input_image);</div>
<div class="line">        HighGui.moveWindow(<span class="stringliteral">&quot;Original&quot;</span>, 0, 200);</div>
<div class="line"> </div>
<div class="line">        Imgproc.resize(output_image, output_image, <span class="keyword">new</span> Size(), rate, rate, Imgproc.INTER_NEAREST);</div>
<div class="line">        HighGui.imshow(<span class="stringliteral">&quot;Hit or Miss&quot;</span>, output_image);</div>
<div class="line">        HighGui.moveWindow(<span class="stringliteral">&quot;Hit or Miss&quot;</span>, 500, 200);</div>
<div class="line"> </div>
<div class="line">        HighGui.waitKey(0);</div>
<div class="line">        System.exit(0);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>HitMiss</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(String[] args) {</div>
<div class="line">        <span class="comment">// load the native OpenCV library</span></div>
<div class="line">        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);</div>
<div class="line">        <span class="keyword">new</span> HitMissRun().run();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'><p> You can also download it from <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/python/tutorial_code/imgProc/HitMiss/hit_miss.py" target="_blank">here</a> </p><div class="fragment"><div class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line">input_image = np.array((</div>
<div class="line">    [0, 0, 0, 0, 0, 0, 0, 0],</div>
<div class="line">    [0, 255, 255, 255, 0, 0, 0, 255],</div>
<div class="line">    [0, 255, 255, 255, 0, 0, 0, 0],</div>
<div class="line">    [0, 255, 255, 255, 0, 255, 0, 0],</div>
<div class="line">    [0, 0, 255, 0, 0, 0, 0, 0],</div>
<div class="line">    [0, 0, 255, 0, 0, 255, 255, 0],</div>
<div class="line">    [0,255, 0, 255, 0, 0, 255, 0],</div>
<div class="line">    [0, 255, 255, 255, 0, 0, 0, 0]), dtype=<span class="stringliteral">&quot;uint8&quot;</span>)</div>
<div class="line"> </div>
<div class="line">kernel = np.array((</div>
<div class="line">        [0, 1, 0],</div>
<div class="line">        [1, -1, 1],</div>
<div class="line">        [0, 1, 0]), dtype=<span class="stringliteral">&quot;int&quot;</span>)</div>
<div class="line"> </div>
<div class="line">output_image = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga67493776e3ad1a3df63883829375201f">cv.morphologyEx</a>(input_image, cv.MORPH_HITMISS, kernel)</div>
<div class="line"> </div>
<div class="line">rate = 50</div>
<div class="line">kernel = (kernel + 1) * 127</div>
<div class="line">kernel = np.uint8(kernel)</div>
<div class="line"> </div>
<div class="line">kernel = <a class="code hl_function" href="../../da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d">cv.resize</a>(kernel, <span class="keywordtype">None</span>, fx = rate, fy = rate, interpolation = cv.INTER_NEAREST)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv.imshow</a>(<span class="stringliteral">&quot;kernel&quot;</span>, kernel)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga8d86b207f7211250dbe6e28f76307ffb">cv.moveWindow</a>(<span class="stringliteral">&quot;kernel&quot;</span>, 0, 0)</div>
<div class="line"> </div>
<div class="line">input_image = <a class="code hl_function" href="../../da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d">cv.resize</a>(input_image, <span class="keywordtype">None</span>, fx = rate, fy = rate, interpolation = cv.INTER_NEAREST)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv.imshow</a>(<span class="stringliteral">&quot;Original&quot;</span>, input_image)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga8d86b207f7211250dbe6e28f76307ffb">cv.moveWindow</a>(<span class="stringliteral">&quot;Original&quot;</span>, 0, 200)</div>
<div class="line"> </div>
<div class="line">output_image = <a class="code hl_function" href="../../da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d">cv.resize</a>(output_image, <span class="keywordtype">None</span> , fx = rate, fy = rate, interpolation = cv.INTER_NEAREST)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv.imshow</a>(<span class="stringliteral">&quot;Hit or Miss&quot;</span>, output_image)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga8d86b207f7211250dbe6e28f76307ffb">cv.moveWindow</a>(<span class="stringliteral">&quot;Hit or Miss&quot;</span>, 500, 200)</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv.waitKey</a>(0)</div>
<div class="line"><a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481">cv.destroyAllWindows</a>()</div>
<div class="ttc" id="agroup__highgui_html_ga453d42fe4cb60e5723281a89973ee563"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv::imshow</a></div><div class="ttdeci">void imshow(const String &amp;winname, InputArray mat)</div><div class="ttdoc">Displays an image in the specified window.</div></div>
<div class="ttc" id="agroup__highgui_html_ga5628525ad33f52eab17feebcfba38bd7"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv::waitKey</a></div><div class="ttdeci">int waitKey(int delay=0)</div><div class="ttdoc">Waits for a pressed key.</div></div>
<div class="ttc" id="agroup__highgui_html_ga6b7fc1c1a8960438156912027b38f481"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga6b7fc1c1a8960438156912027b38f481">cv::destroyAllWindows</a></div><div class="ttdeci">void destroyAllWindows()</div><div class="ttdoc">Destroys all of the HighGUI windows.</div></div>
<div class="ttc" id="agroup__highgui_html_ga8d86b207f7211250dbe6e28f76307ffb"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga8d86b207f7211250dbe6e28f76307ffb">cv::moveWindow</a></div><div class="ttdeci">void moveWindow(const String &amp;winname, int x, int y)</div><div class="ttdoc">Moves the window to the specified position.</div></div>
<div class="ttc" id="agroup__imgproc__filter_html_ga67493776e3ad1a3df63883829375201f"><div class="ttname"><a href="../../d4/d86/group__imgproc__filter.html#ga67493776e3ad1a3df63883829375201f">cv::morphologyEx</a></div><div class="ttdeci">void morphologyEx(InputArray src, OutputArray dst, int op, InputArray kernel, Point anchor=Point(-1,-1), int iterations=1, int borderType=BORDER_CONSTANT, const Scalar &amp;borderValue=morphologyDefaultBorderValue())</div><div class="ttdoc">Performs advanced morphological transformations.</div></div>
<div class="ttc" id="agroup__imgproc__transform_html_ga47a974309e9102f5f08231edc7e7529d"><div class="ttname"><a href="../../da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d">cv::resize</a></div><div class="ttdeci">void resize(InputArray src, OutputArray dst, Size dsize, double fx=0, double fy=0, int interpolation=INTER_LINEAR)</div><div class="ttdoc">Resizes an image.</div></div>
</div><!-- fragment -->  </div> <p>As you can see, it is as simple as using the function <b>morphologyEx()</b> with the operation type <b>MORPH_HITMISS</b> and the chosen kernel.</p>
<h1><a class="anchor" id="autotoc_md615"></a>
Other examples</h1>
<p>Here you can find the output results of applying different kernels to the same input image used before:</p>
<p><img src="../../hitmiss_example2.png" alt="" class="inline" title="Kernel and output result for finding top-right corners"/>     <img src="../../hitmiss_example3.png" alt="" class="inline" title="Kernel and output result for finding left end points"/>    </p>
<p>Now try your own patterns! </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 21:52:13 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.9.8
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
