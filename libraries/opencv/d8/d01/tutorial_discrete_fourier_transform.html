<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>OpenCV: Discrete Fourier Transform</title>
<link href="../../opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../tutorial-utils.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams']
  }
};
//<![CDATA[
window.MathJax = {
    loader: {load: ['[tex]/ams']},
    tex: {
        packages: {'[+]': ['ams']},
        macros: {
            matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
            fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
            forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
            forkfour: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ #7 & \\mbox{#8}\\\\ \\end{array} \\right.", 8],
            vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
            vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
            cameramatrix: ["#1 = \\begin{bmatrix} f_x & 0 & c_x\\\\ 0 & f_y & c_y\\\\ 0 & 0 & 1 \\end{bmatrix}", 1],
            distcoeffs: ["(k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6 [, s_1, s_2, s_3, s_4[, \\tau_x, \\tau_y]]]]) \\text{ of 4, 5, 8, 12 or 14 elements}"],
            distcoeffsfisheye: ["(k_1, k_2, k_3, k_4)"],
            hdotsfor: ["\\dots", 1],
            mathbbm: ["\\mathbb{#1}", 1],
            bordermatrix: ["\\matrix{#1}", 1]
        },
        processEscapes: false
    }
};
//]]>
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">4.10.0</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/df8/tutorial_root.html">OpenCV Tutorials</a></li><li class="navelem"><a class="el" href="../../de/d7a/tutorial_table_of_content_core.html">The Core Functionality (core module)</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Discrete Fourier Transform</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md273">Goal</a></li>
<li class="level1"><a href="#autotoc_md274">Source code</a></li>
<li class="level1"><a href="#autotoc_md275">Explanation</a><ul><li class="level2"><a href="#autotoc_md276">Expand the image to an optimal size</a></li>
<li class="level2"><a href="#autotoc_md277">Make place for both the complex and the real values</a></li>
<li class="level2"><a href="#autotoc_md278">Make the Discrete Fourier Transform</a></li>
<li class="level2"><a href="#autotoc_md279">Transform the real and complex values to magnitude</a></li>
<li class="level2"><a href="#autotoc_md280">Switch to a logarithmic scale</a></li>
<li class="level2"><a href="#autotoc_md281">Crop and rearrange</a></li>
<li class="level2"><a href="#autotoc_md282">Normalize</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md283">Result</a></li>
</ul>
</div>
<div class="textblock"><p><b>Prev Tutorial:</b> <a class="el" href="../../d3/dc1/tutorial_basic_linear_transform.html">Changing the contrast and brightness of an image!</a> <br  />
<b>Next Tutorial:</b> <a class="el" href="../../dd/d74/tutorial_file_input_output_with_xml_yml.html">File Input and Output using XML and YAML files</a> <br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight"></th><th class="markdownTableHeadLeft"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">Original author   </td><td class="markdownTableBodyLeft">Bernát Gábor    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">Compatibility   </td><td class="markdownTableBodyLeft">OpenCV &gt;= 3.0   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md273"></a>
Goal</h1>
<p>We'll seek answers for the following questions:</p>
<ul>
<li>What is a Fourier transform and why use it?</li>
<li>How to do it in OpenCV?</li>
<li>Usage of functions such as: <b>copyMakeBorder()</b> , <b>merge()</b> , <b>dft()</b> , <b>getOptimalDFTSize()</b> , <b>log()</b> and <b>normalize()</b> .</li>
</ul>
<h1><a class="anchor" id="autotoc_md274"></a>
Source code</h1>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'><p> You can <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/cpp/tutorial_code/core/discrete_fourier_transform/discrete_fourier_transform.cpp" target="_blank">download this from here</a> or find it in the <code>samples/cpp/tutorial_code/core/discrete_fourier_transform/discrete_fourier_transform.cpp</code> of the OpenCV source code library. </p> </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'><p> You can <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/java/tutorial_code/core/discrete_fourier_transform/DiscreteFourierTransform.java" target="_blank">download this from here</a> or find it in the <code>samples/java/tutorial_code/core/discrete_fourier_transform/DiscreteFourierTransform.java</code> of the OpenCV source code library. </p> </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'><p> You can <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/python/tutorial_code/core/discrete_fourier_transform/discrete_fourier_transform.py" target="_blank">download this from here</a> or find it in the <code>samples/python/tutorial_code/core/discrete_fourier_transform/discrete_fourier_transform.py</code> of the OpenCV source code library. </p> </div> <p>Here's a sample usage of <b>dft()</b> :</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d0/d9c/core_2include_2opencv2_2core_8hpp.html">opencv2/core.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d4f/imgproc_2include_2opencv2_2imgproc_8hpp.html">opencv2/imgproc.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d6/d87/imgcodecs_8hpp.html">opencv2/imgcodecs.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd5/highgui_8hpp.html">opencv2/highgui.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d2/d75/namespacecv.html">cv</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> help(<span class="keywordtype">char</span> ** argv)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; endl</div>
<div class="line">        &lt;&lt;  <span class="stringliteral">&quot;This program demonstrated the use of the discrete Fourier transform (DFT). &quot;</span> &lt;&lt; endl</div>
<div class="line">        &lt;&lt;  <span class="stringliteral">&quot;The dft of an image is taken and it&#39;s power spectrum is displayed.&quot;</span>  &lt;&lt; endl &lt;&lt; endl</div>
<div class="line">        &lt;&lt;  <span class="stringliteral">&quot;Usage:&quot;</span>                                                                      &lt;&lt; endl</div>
<div class="line">        &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot; [image_name -- default lena.jpg]&quot;</span> &lt;&lt; endl &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv)</div>
<div class="line">{</div>
<div class="line">    help(argv);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* filename = argc &gt;=2 ? argv[1] : <span class="stringliteral">&quot;lena.jpg&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> I = imread( samples::findFile( filename ), IMREAD_GRAYSCALE);</div>
<div class="line">    <span class="keywordflow">if</span>( I.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#abbec3525a852e77998aba034813fded4">empty</a>()){</div>
<div class="line">        cout &lt;&lt; <span class="stringliteral">&quot;Error opening image&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> padded;                            <span class="comment">//expand input image to optimal size</span></div>
<div class="line">    <span class="keywordtype">int</span> m = getOptimalDFTSize( I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a> );</div>
<div class="line">    <span class="keywordtype">int</span> n = getOptimalDFTSize( I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a> ); <span class="comment">// on the border add zero values</span></div>
<div class="line">    copyMakeBorder(I, padded, 0, m - I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a>, 0, n - I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a>, BORDER_CONSTANT, Scalar::all(0));</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> planes[] = {<a class="code hl_class" href="../../df/dfc/classcv_1_1Mat__.html">Mat_&lt;float&gt;</a>(padded), Mat::zeros(padded.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#a146f8e8dda07d1365a575ab83d9828d1">size</a>(), <a class="code hl_define" href="../../d1/d1b/group__core__hal__interface.html#ga4a3def5d72b74bed31f5f8ab7676099c">CV_32F</a>)};</div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> complexI;</div>
<div class="line">    merge(planes, 2, complexI);         <span class="comment">// Add to the expanded another plane with zeros</span></div>
<div class="line"> </div>
<div class="line">    dft(complexI, complexI);            <span class="comment">// this way the result may fit in the source matrix</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// compute the magnitude and switch to logarithmic scale</span></div>
<div class="line">    <span class="comment">// =&gt; log(1 + sqrt(Re(DFT(I))^2 + Im(DFT(I))^2))</span></div>
<div class="line">    split(complexI, planes);                   <span class="comment">// planes[0] = Re(DFT(I), planes[1] = Im(DFT(I))</span></div>
<div class="line">    magnitude(planes[0], planes[1], planes[0]);<span class="comment">// planes[0] = magnitude</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> magI = planes[0];</div>
<div class="line"> </div>
<div class="line">    magI += Scalar::all(1);                    <span class="comment">// switch to logarithmic scale</span></div>
<div class="line">    log(magI, magI);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// crop the spectrum, if it has an odd number of rows or columns</span></div>
<div class="line">    magI = magI(<a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(0, 0, magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a> &amp; -2, magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a> &amp; -2));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// rearrange the quadrants of Fourier image  so that the origin is at the image center</span></div>
<div class="line">    <span class="keywordtype">int</span> cx = magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a>/2;</div>
<div class="line">    <span class="keywordtype">int</span> cy = magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a>/2;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q0(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(0, 0, cx, cy));   <span class="comment">// Top-Left - Create a ROI per quadrant</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q1(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(cx, 0, cx, cy));  <span class="comment">// Top-Right</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q2(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(0, cy, cx, cy));  <span class="comment">// Bottom-Left</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q3(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(cx, cy, cx, cy)); <span class="comment">// Bottom-Right</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> tmp;                           <span class="comment">// swap quadrants (Top-Left with Bottom-Right)</span></div>
<div class="line">    q0.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">copyTo</a>(tmp);</div>
<div class="line">    q3.copyTo(q0);</div>
<div class="line">    tmp.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">copyTo</a>(q3);</div>
<div class="line"> </div>
<div class="line">    q1.copyTo(tmp);                    <span class="comment">// swap quadrant (Top-Right with Bottom-Left)</span></div>
<div class="line">    q2.copyTo(q1);</div>
<div class="line">    tmp.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">copyTo</a>(q2);</div>
<div class="line"> </div>
<div class="line">    normalize(magI, magI, 0, 1, NORM_MINMAX); <span class="comment">// Transform the matrix with float values into a</span></div>
<div class="line">                                            <span class="comment">// viewable image form (float between values 0 and 1).</span></div>
<div class="line"> </div>
<div class="line">    imshow(<span class="stringliteral">&quot;Input Image&quot;</span>       , I   );    <span class="comment">// Show the result</span></div>
<div class="line">    imshow(<span class="stringliteral">&quot;spectrum magnitude&quot;</span>, magI);</div>
<div class="line">    waitKey();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="aclasscv_1_1Mat___html"><div class="ttname"><a href="../../df/dfc/classcv_1_1Mat__.html">cv::Mat_</a></div><div class="ttdoc">Template matrix class derived from Mat.</div><div class="ttdef"><b>Definition</b> mat.hpp:2230</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a></div><div class="ttdoc">n-dimensional dense array class</div><div class="ttdef"><b>Definition</b> mat.hpp:812</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_a146f8e8dda07d1365a575ab83d9828d1"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#a146f8e8dda07d1365a575ab83d9828d1">cv::Mat::size</a></div><div class="ttdeci">MatSize size</div><div class="ttdef"><b>Definition</b> mat.hpp:2160</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_a33fd5d125b4c302b0c9aa86980791a77"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">cv::Mat::copyTo</a></div><div class="ttdeci">void copyTo(OutputArray m) const</div><div class="ttdoc">Copies the matrix to another one.</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_aa3e5a47585c9ef6a0842556739155e3e"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cv::Mat::cols</a></div><div class="ttdeci">int cols</div><div class="ttdef"><b>Definition</b> mat.hpp:2138</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_abbec3525a852e77998aba034813fded4"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#abbec3525a852e77998aba034813fded4">cv::Mat::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Returns true if the array has no elements.</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_abed816466c45234254d25bc59c31245e"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">cv::Mat::rows</a></div><div class="ttdeci">int rows</div><div class="ttdoc">the number of rows and columns or (-1, -1) when the matrix has more than 2 dimensions</div><div class="ttdef"><b>Definition</b> mat.hpp:2138</div></div>
<div class="ttc" id="aclasscv_1_1Rect___html"><div class="ttname"><a href="../../d2/d44/classcv_1_1Rect__.html">cv::Rect_</a></div><div class="ttdoc">Template class for 2D rectangles.</div><div class="ttdef"><b>Definition</b> types.hpp:444</div></div>
<div class="ttc" id="acore_2include_2opencv2_2core_8hpp_html"><div class="ttname"><a href="../../d0/d9c/core_2include_2opencv2_2core_8hpp.html">core.hpp</a></div></div>
<div class="ttc" id="agroup__core__hal__interface_html_ga4a3def5d72b74bed31f5f8ab7676099c"><div class="ttname"><a href="../../d1/d1b/group__core__hal__interface.html#ga4a3def5d72b74bed31f5f8ab7676099c">CV_32F</a></div><div class="ttdeci">#define CV_32F</div><div class="ttdef"><b>Definition</b> interface.h:78</div></div>
<div class="ttc" id="ahighgui_8hpp_html"><div class="ttname"><a href="../../d4/dd5/highgui_8hpp.html">highgui.hpp</a></div></div>
<div class="ttc" id="ahighgui__qt_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> highgui_qt.cpp:3</div></div>
<div class="ttc" id="aimgcodecs_8hpp_html"><div class="ttname"><a href="../../d6/d87/imgcodecs_8hpp.html">imgcodecs.hpp</a></div></div>
<div class="ttc" id="aimgproc_2include_2opencv2_2imgproc_8hpp_html"><div class="ttname"><a href="../../d1/d4f/imgproc_2include_2opencv2_2imgproc_8hpp.html">imgproc.hpp</a></div></div>
<div class="ttc" id="anamespacecv_html"><div class="ttname"><a href="../../d2/d75/namespacecv.html">cv</a></div><div class="ttdoc">&quot;black box&quot; representation of the file storage associated with a file on disk.</div><div class="ttdef"><b>Definition</b> core.hpp:102</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line"><span class="keyword">import</span> org.opencv.core.*;</div>
<div class="line"><span class="keyword">import</span> org.opencv.highgui.HighGui;</div>
<div class="line"><span class="keyword">import</span> org.opencv.imgcodecs.Imgcodecs;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> java.util.List;</div>
<div class="line"><span class="keyword">import</span> java.util.*;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>DiscreteFourierTransformRun{</div>
<div class="line">    <span class="keyword">private</span> <span class="keywordtype">void</span> help() {</div>
<div class="line">        System.out.println(<span class="stringliteral">&quot;&quot;</span> +</div>
<div class="line">                <span class="stringliteral">&quot;This program demonstrated the use of the discrete Fourier transform (DFT). \n&quot;</span> +</div>
<div class="line">                <span class="stringliteral">&quot;The dft of an image is taken and it&#39;s power spectrum is displayed.\n&quot;</span> +</div>
<div class="line">                <span class="stringliteral">&quot;Usage:\n&quot;</span> +</div>
<div class="line">                <span class="stringliteral">&quot;./DiscreteFourierTransform [image_name -- default ../data/lena.jpg]&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run(String[] args){</div>
<div class="line"> </div>
<div class="line">        help();</div>
<div class="line"> </div>
<div class="line">        String filename = ((args.length &gt; 0) ? args[0] : <span class="stringliteral">&quot;../data/lena.jpg&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        Mat I = Imgcodecs.imread(filename, Imgcodecs.IMREAD_GRAYSCALE);</div>
<div class="line">        <span class="keywordflow">if</span>( I.empty() ) {</div>
<div class="line">            System.out.println(<span class="stringliteral">&quot;Error opening image&quot;</span>);</div>
<div class="line">            System.exit(-1);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        Mat padded = <span class="keyword">new</span> Mat();                     <span class="comment">//expand input image to optimal size</span></div>
<div class="line">        <span class="keywordtype">int</span> m = Core.getOptimalDFTSize( I.rows() );</div>
<div class="line">        <span class="keywordtype">int</span> n = Core.getOptimalDFTSize( I.cols() ); <span class="comment">// on the border add zero values</span></div>
<div class="line">        Core.copyMakeBorder(I, padded, 0, m - I.rows(), 0, n - I.cols(), Core.BORDER_CONSTANT, Scalar.<a class="code hl_function" href="../../d1/da0/classcv_1_1Scalar__.html#a9c7b78a3333aa12198cc332ca352d1dc">all</a>(0));</div>
<div class="line"> </div>
<div class="line">        List&lt;Mat&gt; planes = <span class="keyword">new</span> ArrayList&lt;Mat&gt;();</div>
<div class="line">        padded.convertTo(padded, CvType.CV_32F);</div>
<div class="line">        planes.add(padded);</div>
<div class="line">        planes.add(Mat.zeros(padded.size(), CvType.CV_32F));</div>
<div class="line">        Mat complexI = <span class="keyword">new</span> Mat();</div>
<div class="line">        Core.merge(planes, complexI);         <span class="comment">// Add to the expanded another plane with zeros</span></div>
<div class="line"> </div>
<div class="line">        Core.dft(complexI, complexI);         <span class="comment">// this way the result may fit in the source matrix</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// compute the magnitude and switch to logarithmic scale</span></div>
<div class="line">        <span class="comment">// =&gt; log(1 + sqrt(Re(DFT(I))^2 + Im(DFT(I))^2))</span></div>
<div class="line">        Core.split(complexI, planes);                               <span class="comment">// planes.get(0) = Re(DFT(I)</span></div>
<div class="line">                                                                    <span class="comment">// planes.get(1) = Im(DFT(I))</span></div>
<div class="line">        Core.magnitude(planes.get(0), planes.get(1), planes.get(0));<span class="comment">// planes.get(0) = magnitude</span></div>
<div class="line">        Mat magI = planes.get(0);</div>
<div class="line"> </div>
<div class="line">        Mat matOfOnes = Mat.ones(magI.size(), magI.type());</div>
<div class="line">        Core.add(matOfOnes, magI, magI);         <span class="comment">// switch to logarithmic scale</span></div>
<div class="line">        Core.log(magI, magI);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// crop the spectrum, if it has an odd number of rows or columns</span></div>
<div class="line">        magI = magI.submat(<span class="keyword">new</span> Rect(0, 0, magI.cols() &amp; -2, magI.rows() &amp; -2));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// rearrange the quadrants of Fourier image  so that the origin is at the image center</span></div>
<div class="line">        <span class="keywordtype">int</span> cx = magI.cols()/2;</div>
<div class="line">        <span class="keywordtype">int</span> cy = magI.rows()/2;</div>
<div class="line"> </div>
<div class="line">        Mat q0 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(0, 0, cx, cy));   <span class="comment">// Top-Left - Create a ROI per quadrant</span></div>
<div class="line">        Mat q1 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(cx, 0, cx, cy));  <span class="comment">// Top-Right</span></div>
<div class="line">        Mat q2 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(0, cy, cx, cy));  <span class="comment">// Bottom-Left</span></div>
<div class="line">        Mat q3 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(cx, cy, cx, cy)); <span class="comment">// Bottom-Right</span></div>
<div class="line"> </div>
<div class="line">        Mat tmp = <span class="keyword">new</span> Mat();               <span class="comment">// swap quadrants (Top-Left with Bottom-Right)</span></div>
<div class="line">        q0.copyTo(tmp);</div>
<div class="line">        q3.copyTo(q0);</div>
<div class="line">        tmp.copyTo(q3);</div>
<div class="line"> </div>
<div class="line">        q1.copyTo(tmp);                    <span class="comment">// swap quadrant (Top-Right with Bottom-Left)</span></div>
<div class="line">        q2.copyTo(q1);</div>
<div class="line">        tmp.copyTo(q2);</div>
<div class="line"> </div>
<div class="line">        magI.convertTo(magI, CvType.CV_8UC1);</div>
<div class="line">        Core.normalize(magI, magI, 0, 255, Core.NORM_MINMAX, CvType.CV_8UC1); <span class="comment">// Transform the matrix with float values</span></div>
<div class="line">                                                                            <span class="comment">// into a viewable image form (float between</span></div>
<div class="line">                                                                            <span class="comment">// values 0 and 255).</span></div>
<div class="line"> </div>
<div class="line">        HighGui.imshow(<span class="stringliteral">&quot;Input Image&quot;</span>       , I   );    <span class="comment">// Show the result</span></div>
<div class="line">        HighGui.imshow(<span class="stringliteral">&quot;Spectrum Magnitude&quot;</span>, magI);</div>
<div class="line">        HighGui.waitKey();</div>
<div class="line"> </div>
<div class="line">        System.exit(0);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>DiscreteFourierTransform {</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(String[] args) {</div>
<div class="line">        <span class="comment">// Load the native library.</span></div>
<div class="line">        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);</div>
<div class="line">        <span class="keyword">new</span> DiscreteFourierTransformRun().run(args);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclasscv_1_1Scalar___html_a9c7b78a3333aa12198cc332ca352d1dc"><div class="ttname"><a href="../../d1/da0/classcv_1_1Scalar__.html#a9c7b78a3333aa12198cc332ca352d1dc">cv::Scalar_::all</a></div><div class="ttdeci">static Scalar_&lt; _Tp &gt; all(_Tp v0)</div><div class="ttdoc">returns a scalar with all elements set to v0</div></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> print_function</div>
<div class="line"><span class="keyword">import</span> sys</div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>print_help():</div>
<div class="line">    print(<span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="stringliteral">    This program demonstrated the use of the discrete Fourier transform (DFT).</span></div>
<div class="line"><span class="stringliteral">    The dft of an image is taken and it&#39;s power spectrum is displayed.</span></div>
<div class="line"><span class="stringliteral">    Usage:</span></div>
<div class="line"><span class="stringliteral">    discrete_fourier_transform.py [image_name -- default lena.jpg]&#39;&#39;&#39;</span>)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span><a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(argv):</div>
<div class="line"> </div>
<div class="line">    print_help()</div>
<div class="line"> </div>
<div class="line">    filename = argv[0] <span class="keywordflow">if</span> len(argv) &gt; 0 <span class="keywordflow">else</span> <span class="stringliteral">&#39;lena.jpg&#39;</span></div>
<div class="line"> </div>
<div class="line">    I = <a class="code hl_function" href="../../d4/da8/group__imgcodecs.html#gab32ee19e22660912565f8140d0f675a8">cv.imread</a>(<a class="code hl_function" href="../../d6/dba/group__core__utils__samples.html#ga3a33b00033b46c698ff6340d95569c13">cv.samples.findFile</a>(filename), cv.IMREAD_GRAYSCALE)</div>
<div class="line">    <span class="keywordflow">if</span> I <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line">        print(<span class="stringliteral">&#39;Error opening image&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -1</div>
<div class="line">    </div>
<div class="line">    rows, cols = I.shape</div>
<div class="line">    m = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga6577a2e59968936ae02eb2edde5de299">cv.getOptimalDFTSize</a>( rows )</div>
<div class="line">    n = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga6577a2e59968936ae02eb2edde5de299">cv.getOptimalDFTSize</a>( cols )</div>
<div class="line">    padded = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga2ac1049c2c3dd25c2b41bffe17658a36">cv.copyMakeBorder</a>(I, 0, m - rows, 0, n - cols, cv.BORDER_CONSTANT, value=[0, 0, 0])</div>
<div class="line">    </div>
<div class="line">    planes = [np.float32(padded), np.zeros(padded.shape, np.float32)]</div>
<div class="line">    complexI = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga7d7b4d6c6ee504b30a20b1680029c7b4">cv.merge</a>(planes)         <span class="comment"># Add to the expanded another plane with zeros</span></div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#gadd6cf9baf2b8b704a11b5f04aaf4f39d">cv.dft</a>(complexI, complexI)         <span class="comment"># this way the result may fit in the source matrix</span></div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga0547c7fed86152d7e9d0096029c8518a">cv.split</a>(complexI, planes)                   <span class="comment"># planes[0] = Re(DFT(I), planes[1] = Im(DFT(I))</span></div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga6d3b097586bca4409873d64a90fe64c3">cv.magnitude</a>(planes[0], planes[1], planes[0])<span class="comment"># planes[0] = magnitude</span></div>
<div class="line">    magI = planes[0]</div>
<div class="line">    </div>
<div class="line">    matOfOnes = np.ones(magI.shape, dtype=magI.dtype)</div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga10ac1bfb180e2cfda1701d06c24fdbd6">cv.add</a>(matOfOnes, magI, magI) <span class="comment">#  switch to logarithmic scale</span></div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga937ecdce4679a77168730830a955bea7">cv.log</a>(magI, magI)</div>
<div class="line">    </div>
<div class="line">    magI_rows, magI_cols = magI.shape</div>
<div class="line">    <span class="comment"># crop the spectrum, if it has an odd number of rows or columns</span></div>
<div class="line">    magI = magI[0:(magI_rows &amp; -2), 0:(magI_cols &amp; -2)]</div>
<div class="line">    cx = int(magI_rows/2)</div>
<div class="line">    cy = int(magI_cols/2)</div>
<div class="line"> </div>
<div class="line">    q0 = magI[0:cx, 0:cy]         <span class="comment"># Top-Left - Create a ROI per quadrant</span></div>
<div class="line">    q1 = magI[cx:cx+cx, 0:cy]     <span class="comment"># Top-Right</span></div>
<div class="line">    q2 = magI[0:cx, cy:cy+cy]     <span class="comment"># Bottom-Left</span></div>
<div class="line">    q3 = magI[cx:cx+cx, cy:cy+cy] <span class="comment"># Bottom-Right</span></div>
<div class="line"> </div>
<div class="line">    tmp = np.copy(q0)               <span class="comment"># swap quadrants (Top-Left with Bottom-Right)</span></div>
<div class="line">    magI[0:cx, 0:cy] = q3</div>
<div class="line">    magI[cx:cx + cx, cy:cy + cy] = tmp</div>
<div class="line"> </div>
<div class="line">    tmp = np.copy(q1)               <span class="comment"># swap quadrant (Top-Right with Bottom-Left)</span></div>
<div class="line">    magI[cx:cx + cx, 0:cy] = q2</div>
<div class="line">    magI[0:cx, cy:cy + cy] = tmp</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga87eef7ee3970f86906d69a92cbf064bd">cv.normalize</a>(magI, magI, 0, 1, cv.NORM_MINMAX) <span class="comment"># Transform the matrix with float values into a</span></div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv.imshow</a>(<span class="stringliteral">&quot;Input Image&quot;</span>       , I   )    <span class="comment"># Show the result</span></div>
<div class="line">    <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv.imshow</a>(<span class="stringliteral">&quot;spectrum magnitude&quot;</span>, magI)</div>
<div class="line">    <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv.waitKey</a>()</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(sys.argv[1:])</div>
<div class="ttc" id="agroup__core__array_html_ga0547c7fed86152d7e9d0096029c8518a"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga0547c7fed86152d7e9d0096029c8518a">cv::split</a></div><div class="ttdeci">void split(const Mat &amp;src, Mat *mvbegin)</div><div class="ttdoc">Divides a multi-channel array into several single-channel arrays.</div></div>
<div class="ttc" id="agroup__core__array_html_ga10ac1bfb180e2cfda1701d06c24fdbd6"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga10ac1bfb180e2cfda1701d06c24fdbd6">cv::add</a></div><div class="ttdeci">void add(InputArray src1, InputArray src2, OutputArray dst, InputArray mask=noArray(), int dtype=-1)</div><div class="ttdoc">Calculates the per-element sum of two arrays or an array and a scalar.</div></div>
<div class="ttc" id="agroup__core__array_html_ga2ac1049c2c3dd25c2b41bffe17658a36"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga2ac1049c2c3dd25c2b41bffe17658a36">cv::copyMakeBorder</a></div><div class="ttdeci">void copyMakeBorder(InputArray src, OutputArray dst, int top, int bottom, int left, int right, int borderType, const Scalar &amp;value=Scalar())</div><div class="ttdoc">Forms a border around an image.</div></div>
<div class="ttc" id="agroup__core__array_html_ga6577a2e59968936ae02eb2edde5de299"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga6577a2e59968936ae02eb2edde5de299">cv::getOptimalDFTSize</a></div><div class="ttdeci">int getOptimalDFTSize(int vecsize)</div><div class="ttdoc">Returns the optimal DFT size for a given vector size.</div></div>
<div class="ttc" id="agroup__core__array_html_ga6d3b097586bca4409873d64a90fe64c3"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga6d3b097586bca4409873d64a90fe64c3">cv::magnitude</a></div><div class="ttdeci">void magnitude(InputArray x, InputArray y, OutputArray magnitude)</div><div class="ttdoc">Calculates the magnitude of 2D vectors.</div></div>
<div class="ttc" id="agroup__core__array_html_ga7d7b4d6c6ee504b30a20b1680029c7b4"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga7d7b4d6c6ee504b30a20b1680029c7b4">cv::merge</a></div><div class="ttdeci">void merge(const Mat *mv, size_t count, OutputArray dst)</div><div class="ttdoc">Creates one multi-channel array out of several single-channel ones.</div></div>
<div class="ttc" id="agroup__core__array_html_ga87eef7ee3970f86906d69a92cbf064bd"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga87eef7ee3970f86906d69a92cbf064bd">cv::normalize</a></div><div class="ttdeci">void normalize(InputArray src, InputOutputArray dst, double alpha=1, double beta=0, int norm_type=NORM_L2, int dtype=-1, InputArray mask=noArray())</div><div class="ttdoc">Normalizes the norm or value range of an array.</div></div>
<div class="ttc" id="agroup__core__array_html_ga937ecdce4679a77168730830a955bea7"><div class="ttname"><a href="../../d2/de8/group__core__array.html#ga937ecdce4679a77168730830a955bea7">cv::log</a></div><div class="ttdeci">void log(InputArray src, OutputArray dst)</div><div class="ttdoc">Calculates the natural logarithm of every array element.</div></div>
<div class="ttc" id="agroup__core__array_html_gadd6cf9baf2b8b704a11b5f04aaf4f39d"><div class="ttname"><a href="../../d2/de8/group__core__array.html#gadd6cf9baf2b8b704a11b5f04aaf4f39d">cv::dft</a></div><div class="ttdeci">void dft(InputArray src, OutputArray dst, int flags=0, int nonzeroRows=0)</div><div class="ttdoc">Performs a forward or inverse Discrete Fourier transform of a 1D or 2D floating-point array.</div></div>
<div class="ttc" id="agroup__core__utils__samples_html_ga3a33b00033b46c698ff6340d95569c13"><div class="ttname"><a href="../../d6/dba/group__core__utils__samples.html#ga3a33b00033b46c698ff6340d95569c13">cv::samples::findFile</a></div><div class="ttdeci">cv::String findFile(const cv::String &amp;relative_path, bool required=true, bool silentMode=false)</div><div class="ttdoc">Try to find requested data file.</div></div>
<div class="ttc" id="agroup__highgui_html_ga453d42fe4cb60e5723281a89973ee563"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv::imshow</a></div><div class="ttdeci">void imshow(const String &amp;winname, InputArray mat)</div><div class="ttdoc">Displays an image in the specified window.</div></div>
<div class="ttc" id="agroup__highgui_html_ga5628525ad33f52eab17feebcfba38bd7"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv::waitKey</a></div><div class="ttdeci">int waitKey(int delay=0)</div><div class="ttdoc">Waits for a pressed key.</div></div>
<div class="ttc" id="agroup__imgcodecs_html_gab32ee19e22660912565f8140d0f675a8"><div class="ttname"><a href="../../d4/da8/group__imgcodecs.html#gab32ee19e22660912565f8140d0f675a8">cv::imread</a></div><div class="ttdeci">CV_EXPORTS_W Mat imread(const String &amp;filename, int flags=IMREAD_COLOR)</div><div class="ttdoc">Loads an image from a file.</div></div>
</div><!-- fragment -->  </div> <h1><a class="anchor" id="autotoc_md275"></a>
Explanation</h1>
<p>The Fourier Transform will decompose an image into its sinus and cosines components. In other words, it will transform an image from its spatial domain to its frequency domain. The idea is that any function may be approximated exactly with the sum of infinite sinus and cosines functions. The Fourier Transform is a way how to do this. Mathematically a two dimensional images Fourier transform is:</p>
<p class="formulaDsp">
\[F(k,l) = \displaystyle\sum\limits_{i=0}^{N-1}\sum\limits_{j=0}^{N-1} f(i,j)e^{-i2\pi(\frac{ki}{N}+\frac{lj}{N})}\]
</p>
 <p class="formulaDsp">
\[e^{ix} = \cos{x} + i\sin {x}\]
</p>
<p>Here f is the image value in its spatial domain and F in its frequency domain. The result of the transformation is complex numbers. Displaying this is possible either via a <em>real</em> image and a <em>complex</em> image or via a <em>magnitude</em> and a <em>phase</em> image. However, throughout the image processing algorithms only the <em>magnitude</em> image is interesting as this contains all the information we need about the images geometric structure. Nevertheless, if you intend to make some modifications of the image in these forms and then you need to retransform it you'll need to preserve both of these.</p>
<p>In this sample I'll show how to calculate and show the <em>magnitude</em> image of a Fourier Transform. In case of digital images are discrete. This means they may take up a value from a given domain value. For example in a basic gray scale image values usually are between zero and 255. Therefore the Fourier Transform too needs to be of a discrete type resulting in a Discrete Fourier Transform (<em>DFT</em>). You'll want to use this whenever you need to determine the structure of an image from a geometrical point of view. Here are the steps to follow (in case of a gray scale input image <em>I</em>):</p>
<h2><a class="anchor" id="autotoc_md276"></a>
Expand the image to an optimal size</h2>
<p>The performance of a DFT is dependent of the image size. It tends to be the fastest for image sizes that are multiple of the numbers two, three and five. Therefore, to achieve maximal performance it is generally a good idea to pad border values to the image to get a size with such traits. The <b>getOptimalDFTSize()</b> returns this optimal size and we can use the <b>copyMakeBorder()</b> function to expand the borders of an image (the appended pixels are initialized with zero):</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> padded;                            <span class="comment">//expand input image to optimal size</span></div>
<div class="line">    <span class="keywordtype">int</span> m = getOptimalDFTSize( I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a> );</div>
<div class="line">    <span class="keywordtype">int</span> n = getOptimalDFTSize( I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a> ); <span class="comment">// on the border add zero values</span></div>
<div class="line">    copyMakeBorder(I, padded, 0, m - I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a>, 0, n - I.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a>, BORDER_CONSTANT, Scalar::all(0));</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        Mat padded = <span class="keyword">new</span> Mat();                     <span class="comment">//expand input image to optimal size</span></div>
<div class="line">        <span class="keywordtype">int</span> m = Core.getOptimalDFTSize( I.rows() );</div>
<div class="line">        <span class="keywordtype">int</span> n = Core.getOptimalDFTSize( I.cols() ); <span class="comment">// on the border add zero values</span></div>
<div class="line">        Core.copyMakeBorder(I, padded, 0, m - I.rows(), 0, n - I.cols(), Core.BORDER_CONSTANT, Scalar.<a class="code hl_function" href="../../d1/da0/classcv_1_1Scalar__.html#a9c7b78a3333aa12198cc332ca352d1dc">all</a>(0));</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    rows, cols = I.shape</div>
<div class="line">    m = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga6577a2e59968936ae02eb2edde5de299">cv.getOptimalDFTSize</a>( rows )</div>
<div class="line">    n = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga6577a2e59968936ae02eb2edde5de299">cv.getOptimalDFTSize</a>( cols )</div>
<div class="line">    padded = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga2ac1049c2c3dd25c2b41bffe17658a36">cv.copyMakeBorder</a>(I, 0, m - rows, 0, n - cols, cv.BORDER_CONSTANT, value=[0, 0, 0])</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md277"></a>
Make place for both the complex and the real values</h2>
<p>The result of a Fourier Transform is complex. This implies that for each image value the result is two image values (one per component). Moreover, the frequency domains range is much larger than its spatial counterpart. Therefore, we store these usually at least in a <em>float</em> format. Therefore we'll convert our input image to this type and expand it with another channel to hold the complex values:</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> planes[] = {<a class="code hl_class" href="../../df/dfc/classcv_1_1Mat__.html">Mat_&lt;float&gt;</a>(padded), Mat::zeros(padded.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#a146f8e8dda07d1365a575ab83d9828d1">size</a>(), <a class="code hl_define" href="../../d1/d1b/group__core__hal__interface.html#ga4a3def5d72b74bed31f5f8ab7676099c">CV_32F</a>)};</div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> complexI;</div>
<div class="line">    merge(planes, 2, complexI);         <span class="comment">// Add to the expanded another plane with zeros</span></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        List&lt;Mat&gt; planes = <span class="keyword">new</span> ArrayList&lt;Mat&gt;();</div>
<div class="line">        padded.convertTo(padded, CvType.CV_32F);</div>
<div class="line">        planes.add(padded);</div>
<div class="line">        planes.add(Mat.zeros(padded.size(), CvType.CV_32F));</div>
<div class="line">        Mat complexI = <span class="keyword">new</span> Mat();</div>
<div class="line">        Core.merge(planes, complexI);         <span class="comment">// Add to the expanded another plane with zeros</span></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    planes = [np.float32(padded), np.zeros(padded.shape, np.float32)]</div>
<div class="line">    complexI = <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga7d7b4d6c6ee504b30a20b1680029c7b4">cv.merge</a>(planes)         <span class="comment"># Add to the expanded another plane with zeros</span></div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md278"></a>
Make the Discrete Fourier Transform</h2>
<p>It's possible an in-place calculation (same input as output):</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    dft(complexI, complexI);            <span class="comment">// this way the result may fit in the source matrix</span></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        Core.dft(complexI, complexI);         <span class="comment">// this way the result may fit in the source matrix</span></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#gadd6cf9baf2b8b704a11b5f04aaf4f39d">cv.dft</a>(complexI, complexI)         <span class="comment"># this way the result may fit in the source matrix</span></div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md279"></a>
Transform the real and complex values to magnitude</h2>
<p>A complex number has a real (<em>Re</em>) and a complex (imaginary - <em>Im</em>) part. The results of a DFT are complex numbers. The magnitude of a DFT is:</p>
<p class="formulaDsp">
\[M = \sqrt[2]{ {Re(DFT(I))}^2 + {Im(DFT(I))}^2}\]
</p>
<p>Translated to OpenCV code:</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    split(complexI, planes);                   <span class="comment">// planes[0] = Re(DFT(I), planes[1] = Im(DFT(I))</span></div>
<div class="line">    magnitude(planes[0], planes[1], planes[0]);<span class="comment">// planes[0] = magnitude</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> magI = planes[0];</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        Core.split(complexI, planes);                               <span class="comment">// planes.get(0) = Re(DFT(I)</span></div>
<div class="line">                                                                    <span class="comment">// planes.get(1) = Im(DFT(I))</span></div>
<div class="line">        Core.magnitude(planes.get(0), planes.get(1), planes.get(0));<span class="comment">// planes.get(0) = magnitude</span></div>
<div class="line">        Mat magI = planes.get(0);</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga0547c7fed86152d7e9d0096029c8518a">cv.split</a>(complexI, planes)                   <span class="comment"># planes[0] = Re(DFT(I), planes[1] = Im(DFT(I))</span></div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga6d3b097586bca4409873d64a90fe64c3">cv.magnitude</a>(planes[0], planes[1], planes[0])<span class="comment"># planes[0] = magnitude</span></div>
<div class="line">    magI = planes[0]</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md280"></a>
Switch to a logarithmic scale</h2>
<p>It turns out that the dynamic range of the Fourier coefficients is too large to be displayed on the screen. We have some small and some high changing values that we can't observe like this. Therefore the high values will all turn out as white points, while the small ones as black. To use the gray scale values to for visualization we can transform our linear scale to a logarithmic one:</p>
<p class="formulaDsp">
\[M_1 = \log{(1 + M)}\]
</p>
<p>Translated to OpenCV code:</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    magI += Scalar::all(1);                    <span class="comment">// switch to logarithmic scale</span></div>
<div class="line">    log(magI, magI);</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        Mat matOfOnes = Mat.ones(magI.size(), magI.type());</div>
<div class="line">        Core.add(matOfOnes, magI, magI);         <span class="comment">// switch to logarithmic scale</span></div>
<div class="line">        Core.log(magI, magI);</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    matOfOnes = np.ones(magI.shape, dtype=magI.dtype)</div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga10ac1bfb180e2cfda1701d06c24fdbd6">cv.add</a>(matOfOnes, magI, magI) <span class="comment">#  switch to logarithmic scale</span></div>
<div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga937ecdce4679a77168730830a955bea7">cv.log</a>(magI, magI)</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md281"></a>
Crop and rearrange</h2>
<p>Remember, that at the first step, we expanded the image? Well, it's time to throw away the newly introduced values. For visualization purposes we may also rearrange the quadrants of the result, so that the origin (zero, zero) corresponds with the image center.</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <span class="comment">// crop the spectrum, if it has an odd number of rows or columns</span></div>
<div class="line">    magI = magI(<a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(0, 0, magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a> &amp; -2, magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a> &amp; -2));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// rearrange the quadrants of Fourier image  so that the origin is at the image center</span></div>
<div class="line">    <span class="keywordtype">int</span> cx = magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a>/2;</div>
<div class="line">    <span class="keywordtype">int</span> cy = magI.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a>/2;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q0(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(0, 0, cx, cy));   <span class="comment">// Top-Left - Create a ROI per quadrant</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q1(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(cx, 0, cx, cy));  <span class="comment">// Top-Right</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q2(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(0, cy, cx, cy));  <span class="comment">// Bottom-Left</span></div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> q3(magI, <a class="code hl_class" href="../../d2/d44/classcv_1_1Rect__.html">Rect</a>(cx, cy, cx, cy)); <span class="comment">// Bottom-Right</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> tmp;                           <span class="comment">// swap quadrants (Top-Left with Bottom-Right)</span></div>
<div class="line">    q0.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">copyTo</a>(tmp);</div>
<div class="line">    q3.copyTo(q0);</div>
<div class="line">    tmp.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">copyTo</a>(q3);</div>
<div class="line"> </div>
<div class="line">    q1.copyTo(tmp);                    <span class="comment">// swap quadrant (Top-Right with Bottom-Left)</span></div>
<div class="line">    q2.copyTo(q1);</div>
<div class="line">    tmp.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77">copyTo</a>(q2);</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        <span class="comment">// crop the spectrum, if it has an odd number of rows or columns</span></div>
<div class="line">        magI = magI.submat(<span class="keyword">new</span> Rect(0, 0, magI.cols() &amp; -2, magI.rows() &amp; -2));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// rearrange the quadrants of Fourier image  so that the origin is at the image center</span></div>
<div class="line">        <span class="keywordtype">int</span> cx = magI.cols()/2;</div>
<div class="line">        <span class="keywordtype">int</span> cy = magI.rows()/2;</div>
<div class="line"> </div>
<div class="line">        Mat q0 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(0, 0, cx, cy));   <span class="comment">// Top-Left - Create a ROI per quadrant</span></div>
<div class="line">        Mat q1 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(cx, 0, cx, cy));  <span class="comment">// Top-Right</span></div>
<div class="line">        Mat q2 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(0, cy, cx, cy));  <span class="comment">// Bottom-Left</span></div>
<div class="line">        Mat q3 = <span class="keyword">new</span> Mat(magI, <span class="keyword">new</span> Rect(cx, cy, cx, cy)); <span class="comment">// Bottom-Right</span></div>
<div class="line"> </div>
<div class="line">        Mat tmp = <span class="keyword">new</span> Mat();               <span class="comment">// swap quadrants (Top-Left with Bottom-Right)</span></div>
<div class="line">        q0.copyTo(tmp);</div>
<div class="line">        q3.copyTo(q0);</div>
<div class="line">        tmp.copyTo(q3);</div>
<div class="line"> </div>
<div class="line">        q1.copyTo(tmp);                    <span class="comment">// swap quadrant (Top-Right with Bottom-Left)</span></div>
<div class="line">        q2.copyTo(q1);</div>
<div class="line">        tmp.copyTo(q2);</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    magI_rows, magI_cols = magI.shape</div>
<div class="line">    <span class="comment"># crop the spectrum, if it has an odd number of rows or columns</span></div>
<div class="line">    magI = magI[0:(magI_rows &amp; -2), 0:(magI_cols &amp; -2)]</div>
<div class="line">    cx = int(magI_rows/2)</div>
<div class="line">    cy = int(magI_cols/2)</div>
<div class="line"> </div>
<div class="line">    q0 = magI[0:cx, 0:cy]         <span class="comment"># Top-Left - Create a ROI per quadrant</span></div>
<div class="line">    q1 = magI[cx:cx+cx, 0:cy]     <span class="comment"># Top-Right</span></div>
<div class="line">    q2 = magI[0:cx, cy:cy+cy]     <span class="comment"># Bottom-Left</span></div>
<div class="line">    q3 = magI[cx:cx+cx, cy:cy+cy] <span class="comment"># Bottom-Right</span></div>
<div class="line"> </div>
<div class="line">    tmp = np.copy(q0)               <span class="comment"># swap quadrants (Top-Left with Bottom-Right)</span></div>
<div class="line">    magI[0:cx, 0:cy] = q3</div>
<div class="line">    magI[cx:cx + cx, cy:cy + cy] = tmp</div>
<div class="line"> </div>
<div class="line">    tmp = np.copy(q1)               <span class="comment"># swap quadrant (Top-Right with Bottom-Left)</span></div>
<div class="line">    magI[cx:cx + cx, 0:cy] = q2</div>
<div class="line">    magI[0:cx, cy:cy + cy] = tmp</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md282"></a>
Normalize</h2>
<p>This is done again for visualization purposes. We now have the magnitudes, however this are still out of our image display range of zero to one. We normalize our values to this range using the <a class="el" href="../../d2/de8/group__core__array.html#ga87eef7ee3970f86906d69a92cbf064bd">cv::normalize()</a> function.</p>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    normalize(magI, magI, 0, 1, NORM_MINMAX); <span class="comment">// Transform the matrix with float values into a</span></div>
<div class="line">                                            <span class="comment">// viewable image form (float between values 0 and 1).</span></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        Core.normalize(magI, magI, 0, 255, Core.NORM_MINMAX, CvType.CV_8UC1); <span class="comment">// Transform the matrix with float values</span></div>
<div class="line">                                                                            <span class="comment">// into a viewable image form (float between</span></div>
<div class="line">                                                                            <span class="comment">// values 0 and 255).</span></div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <a class="code hl_function" href="../../d2/de8/group__core__array.html#ga87eef7ee3970f86906d69a92cbf064bd">cv.normalize</a>(magI, magI, 0, 1, cv.NORM_MINMAX) <span class="comment"># Transform the matrix with float values into a</span></div>
<div class="line">    </div>
</div><!-- fragment -->  </div> <h1><a class="anchor" id="autotoc_md283"></a>
Result</h1>
<p>An application idea would be to determine the geometrical orientation present in the image. For example, let us find out if a text is horizontal or not? Looking at some text you'll notice that the text lines sort of form also horizontal lines and the letters form sort of vertical lines. These two main components of a text snippet may be also seen in case of the Fourier transform. Let us use <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/data/imageTextN.png" target="_blank">this horizontal</a> and <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/data/imageTextR.png" target="_blank">this rotated</a> image about a text.</p>
<p>In case of the horizontal text:</p>
<div class="image">
<img src="../../result_normal.jpg" alt=""/>
</div>
    <p>In case of a rotated text:</p>
<div class="image">
<img src="../../result_rotated.jpg" alt=""/>
</div>
    <p>You can see that the most influential components of the frequency domain (brightest dots on the magnitude image) follow the geometric rotation of objects on the image. From this we may calculate the offset and perform an image rotation to correct eventual miss alignments. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 21:52:13 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.9.8
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
