<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>OpenCV: Smoothing Images</title>
<link href="../../opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../tutorial-utils.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams']
  }
};
//<![CDATA[
window.MathJax = {
    loader: {load: ['[tex]/ams']},
    tex: {
        packages: {'[+]': ['ams']},
        macros: {
            matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
            fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
            forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
            forkfour: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ #7 & \\mbox{#8}\\\\ \\end{array} \\right.", 8],
            vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
            vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
            cameramatrix: ["#1 = \\begin{bmatrix} f_x & 0 & c_x\\\\ 0 & f_y & c_y\\\\ 0 & 0 & 1 \\end{bmatrix}", 1],
            distcoeffs: ["(k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6 [, s_1, s_2, s_3, s_4[, \\tau_x, \\tau_y]]]]) \\text{ of 4, 5, 8, 12 or 14 elements}"],
            distcoeffsfisheye: ["(k_1, k_2, k_3, k_4)"],
            hdotsfor: ["\\dots", 1],
            mathbbm: ["\\mathbb{#1}", 1],
            bordermatrix: ["\\matrix{#1}", 1]
        },
        processEscapes: false
    }
};
//]]>
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">4.10.0</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/df8/tutorial_root.html">OpenCV Tutorials</a></li><li class="navelem"><a class="el" href="../../d7/da8/tutorial_table_of_content_imgproc.html">Image Processing (imgproc module)</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Smoothing Images</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md554">Goal</a></li>
<li class="level1"><a href="#autotoc_md555">Theory</a><ul><li class="level2"><a href="#autotoc_md556">Normalized Box Filter</a></li>
<li class="level2"><a href="#autotoc_md557">Gaussian Filter</a></li>
<li class="level2"><a href="#autotoc_md558">Median Filter</a></li>
<li class="level2"><a href="#autotoc_md559">Bilateral Filter</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md560">Code</a></li>
<li class="level1"><a href="#autotoc_md561">Explanation</a><ul><li class="level2"><a href="#autotoc_md562">Normalized Block Filter:</a></li>
<li class="level2"><a href="#autotoc_md563">Gaussian Filter:</a></li>
<li class="level2"><a href="#autotoc_md564">Median Filter:</a></li>
<li class="level2"><a href="#autotoc_md565">Bilateral Filter</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md566">Results</a></li>
</ul>
</div>
<div class="textblock"><p><b>Prev Tutorial:</b> <a class="el" href="../../df/d61/tutorial_random_generator_and_text.html">Random generator and text with OpenCV</a> <br  />
<b>Next Tutorial:</b> <a class="el" href="../../db/df6/tutorial_erosion_dilatation.html">Eroding and Dilating</a> <br  />
 </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadRight"></th><th class="markdownTableHeadLeft"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyRight">Original author   </td><td class="markdownTableBodyLeft">Ana Huam√°n    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyRight">Compatibility   </td><td class="markdownTableBodyLeft">OpenCV &gt;= 3.0   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md554"></a>
Goal</h1>
<p>In this tutorial you will learn how to apply diverse linear filters to smooth images using OpenCV functions such as:</p>
<ul>
<li><b>blur()</b></li>
<li><b>GaussianBlur()</b></li>
<li><b>medianBlur()</b></li>
<li><b>bilateralFilter()</b></li>
</ul>
<h1><a class="anchor" id="autotoc_md555"></a>
Theory</h1>
<dl class="section note"><dt>Note</dt><dd>The explanation below belongs to the book <a href="http://szeliski.org/Book/" target="_blank">Computer Vision: Algorithms and Applications</a> by Richard Szeliski and to <em>LearningOpenCV</em></dd></dl>
<ul>
<li><em>Smoothing</em>, also called <em>blurring</em>, is a simple and frequently used image processing operation.</li>
<li>There are many reasons for smoothing. In this tutorial we will focus on smoothing in order to reduce noise (other uses will be seen in the following tutorials).</li>
<li><p class="startli">To perform a smoothing operation we will apply a <em>filter</em> to our image. The most common type of filters are <em>linear</em>, in which an output pixel's value (i.e. \(g(i,j)\)) is determined as a weighted sum of input pixel values (i.e. \(f(i+k,j+l)\)) :</p>
<p class="formulaDsp">
\[g(i,j) = \sum_{k,l} f(i+k, j+l) h(k,l)\]
</p>
<p class="startli">\(h(k,l)\) is called the <em>kernel</em>, which is nothing more than the coefficients of the filter.</p>
<p class="startli">It helps to visualize a <em>filter</em> as a window of coefficients sliding across the image.</p>
</li>
<li>There are many kind of filters, here we will mention the most used:</li>
</ul>
<h2><a class="anchor" id="autotoc_md556"></a>
Normalized Box Filter</h2>
<ul>
<li>This filter is the simplest of all! Each output pixel is the <em>mean</em> of its kernel neighbors ( all of them contribute with equal weights)</li>
<li>The kernel is below:</li>
</ul>
<p class="formulaDsp">
\[K = \dfrac{1}{K_{width} \cdot K_{height}} \begin{bmatrix}
        1 &amp; 1 &amp; 1 &amp; ... &amp; 1 \\
        1 &amp; 1 &amp; 1 &amp; ... &amp; 1 \\
        . &amp; . &amp; . &amp; ... &amp; 1 \\
        . &amp; . &amp; . &amp; ... &amp; 1 \\
        1 &amp; 1 &amp; 1 &amp; ... &amp; 1
       \end{bmatrix}\]
</p>
<h2><a class="anchor" id="autotoc_md557"></a>
Gaussian Filter</h2>
<ul>
<li>Probably the most useful filter (although not the fastest). Gaussian filtering is done by convolving each point in the input array with a <em>Gaussian kernel</em> and then summing them all to produce the output array.</li>
<li>Just to make the picture clearer, remember how a 1D Gaussian kernel look like?</li>
</ul>
<div class="image">
<img src="../../Smoothing_Tutorial_theory_gaussian_0.jpg" alt=""/>
</div>
    <p>Assuming that an image is 1D, you can notice that the pixel located in the middle would have the biggest weight. The weight of its neighbors decreases as the spatial distance between them and the center pixel increases.</p>
<dl class="section note"><dt>Note</dt><dd>Remember that a 2D Gaussian can be represented as : <p class="formulaDsp">
\[G_{0}(x, y) = A  e^{ \dfrac{ -(x - \mu_{x})^{2} }{ 2\sigma^{2}_{x} } +  \dfrac{ -(y - \mu_{y})^{2} }{ 2\sigma^{2}_{y} } }\]
</p>
 where \(\mu\) is the mean (the peak) and \(\sigma^{2}\) represents the variance (per each of the variables \(x\) and \(y\))</dd></dl>
<h2><a class="anchor" id="autotoc_md558"></a>
Median Filter</h2>
<p>The median filter run through each element of the signal (in this case the image) and replace each pixel with the <b>median</b> of its neighboring pixels (located in a square neighborhood around the evaluated pixel).</p>
<h2><a class="anchor" id="autotoc_md559"></a>
Bilateral Filter</h2>
<ul>
<li>So far, we have explained some filters which main goal is to <em>smooth</em> an input image. However, sometimes the filters do not only dissolve the noise, but also smooth away the <em>edges</em>. To avoid this (at certain extent at least), we can use a bilateral filter.</li>
<li>In an analogous way as the Gaussian filter, the bilateral filter also considers the neighboring pixels with weights assigned to each of them. These weights have two components, the first of which is the same weighting used by the Gaussian filter. The second component takes into account the difference in intensity between the neighboring pixels and the evaluated one.</li>
<li>For a more detailed explanation you can check <a href="http://homepages.inf.ed.ac.uk/rbf/CVonline/LOCAL_COPIES/MANDUCHI1/Bilateral_Filtering.html" target="_blank">this link</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md560"></a>
Code</h1>
<ul>
<li><b>What does this program do?</b><ul>
<li>Loads an image</li>
<li>Applies 4 different kinds of filters (explained in Theory) and show the filtered images sequentially</li>
</ul>
</li>
</ul>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'><ul>
<li><b>Downloadable code</b>: Click <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/cpp/tutorial_code/ImgProc/Smoothing/Smoothing.cpp" target="_blank">here</a></li>
<li><b>Code at glance:</b> <div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d4f/imgproc_2include_2opencv2_2imgproc_8hpp.html">opencv2/imgproc.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d6/d87/imgcodecs_8hpp.html">opencv2/imgcodecs.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d4/dd5/highgui_8hpp.html">opencv2/highgui.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d8/dcc/namespacestd.html">std</a>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d2/d75/namespacecv.html">cv</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> DELAY_CAPTION = 1500;</div>
<div class="line"><span class="keywordtype">int</span> DELAY_BLUR = 100;</div>
<div class="line"><span class="keywordtype">int</span> MAX_KERNEL_LENGTH = 31;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> src; <a class="code hl_class" href="../../d3/d63/classcv_1_1Mat.html">Mat</a> dst;</div>
<div class="line"><span class="keywordtype">char</span> window_name[] = <span class="stringliteral">&quot;Smoothing Demo&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> display_caption( <span class="keyword">const</span> <span class="keywordtype">char</span>* caption );</div>
<div class="line"><span class="keywordtype">int</span> display_dst( <span class="keywordtype">int</span> delay );</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>( <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv )</div>
<div class="line">{</div>
<div class="line">    namedWindow( window_name, WINDOW_AUTOSIZE );</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* filename = argc &gt;=2 ? argv[1] : <span class="stringliteral">&quot;lena.jpg&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    src = imread( samples::findFile( filename ), IMREAD_COLOR );</div>
<div class="line">    <span class="keywordflow">if</span> (src.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#abbec3525a852e77998aba034813fded4">empty</a>())</div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot; Error opening image\n&quot;</span>);</div>
<div class="line">        printf(<span class="stringliteral">&quot; Usage:\n %s [image_name-- default lena.jpg] \n&quot;</span>, argv[0]);</div>
<div class="line">        <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( display_caption( <span class="stringliteral">&quot;Original Image&quot;</span> ) != 0 )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    dst = src.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#a03d2a2570d06dcae378f788725789aa4">clone</a>();</div>
<div class="line">    <span class="keywordflow">if</span>( display_dst( DELAY_CAPTION ) != 0 )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( display_caption( <span class="stringliteral">&quot;Homogeneous Blur&quot;</span> ) != 0 )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga8c45db9afe636703801b0b2e440fce37">blur</a>( src, dst, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>( i, i ), <a class="code hl_class" href="../../db/d4e/classcv_1_1Point__.html">Point</a>(-1,-1) );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( display_caption( <span class="stringliteral">&quot;Gaussian Blur&quot;</span> ) != 0 )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1">GaussianBlur</a>( src, dst, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>( i, i ), 0, 0 );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( display_caption( <span class="stringliteral">&quot;Median Blur&quot;</span> ) != 0 )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga564869aa33e58769b4469101aac458f9">medianBlur</a> ( src, dst, i );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( display_caption( <span class="stringliteral">&quot;Bilateral Blur&quot;</span> ) != 0 )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga9d7064d478c95d60003cf839430737ed">bilateralFilter</a> ( src, dst, i, i*2, i/2 );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    display_caption( <span class="stringliteral">&quot;Done!&quot;</span> );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> display_caption( <span class="keyword">const</span> <span class="keywordtype">char</span>* caption )</div>
<div class="line">{</div>
<div class="line">    dst = Mat::zeros( src.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#a146f8e8dda07d1365a575ab83d9828d1">size</a>(), src.<a class="code hl_function" href="../../d3/d63/classcv_1_1Mat.html#af2d2652e552d7de635988f18a84b53e5">type</a>() );</div>
<div class="line">    <a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#ga5126f47f883d730f633d74f07456c576">putText</a>( dst, caption,</div>
<div class="line">             <a class="code hl_class" href="../../db/d4e/classcv_1_1Point__.html">Point</a>( src.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cols</a>/4, src.<a class="code hl_variable" href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">rows</a>/2),</div>
<div class="line">             FONT_HERSHEY_COMPLEX, 1, <a class="code hl_class" href="../../d1/da0/classcv_1_1Scalar__.html">Scalar</a>(255, 255, 255) );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> display_dst(DELAY_CAPTION);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> display_dst( <span class="keywordtype">int</span> delay )</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">imshow</a>( window_name, dst );</div>
<div class="line">    <span class="keywordtype">int</span> c = <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">waitKey</a> ( delay );</div>
<div class="line">    <span class="keywordflow">if</span>( c &gt;= 0 ) { <span class="keywordflow">return</span> -1; }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclasscv_1_1Mat_html"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html">cv::Mat</a></div><div class="ttdoc">n-dimensional dense array class</div><div class="ttdef"><b>Definition</b> mat.hpp:812</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_a03d2a2570d06dcae378f788725789aa4"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#a03d2a2570d06dcae378f788725789aa4">cv::Mat::clone</a></div><div class="ttdeci">CV_NODISCARD_STD Mat clone() const</div><div class="ttdoc">Creates a full copy of the array and the underlying data.</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_a146f8e8dda07d1365a575ab83d9828d1"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#a146f8e8dda07d1365a575ab83d9828d1">cv::Mat::size</a></div><div class="ttdeci">MatSize size</div><div class="ttdef"><b>Definition</b> mat.hpp:2160</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_aa3e5a47585c9ef6a0842556739155e3e"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#aa3e5a47585c9ef6a0842556739155e3e">cv::Mat::cols</a></div><div class="ttdeci">int cols</div><div class="ttdef"><b>Definition</b> mat.hpp:2138</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_abbec3525a852e77998aba034813fded4"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#abbec3525a852e77998aba034813fded4">cv::Mat::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">Returns true if the array has no elements.</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_abed816466c45234254d25bc59c31245e"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#abed816466c45234254d25bc59c31245e">cv::Mat::rows</a></div><div class="ttdeci">int rows</div><div class="ttdoc">the number of rows and columns or (-1, -1) when the matrix has more than 2 dimensions</div><div class="ttdef"><b>Definition</b> mat.hpp:2138</div></div>
<div class="ttc" id="aclasscv_1_1Mat_html_af2d2652e552d7de635988f18a84b53e5"><div class="ttname"><a href="../../d3/d63/classcv_1_1Mat.html#af2d2652e552d7de635988f18a84b53e5">cv::Mat::type</a></div><div class="ttdeci">int type() const</div><div class="ttdoc">Returns the type of a matrix element.</div></div>
<div class="ttc" id="aclasscv_1_1Point___html"><div class="ttname"><a href="../../db/d4e/classcv_1_1Point__.html">cv::Point_&lt; int &gt;</a></div></div>
<div class="ttc" id="aclasscv_1_1Scalar___html"><div class="ttname"><a href="../../d1/da0/classcv_1_1Scalar__.html">cv::Scalar_&lt; double &gt;</a></div></div>
<div class="ttc" id="aclasscv_1_1Size___html"><div class="ttname"><a href="../../d6/d50/classcv_1_1Size__.html">cv::Size_</a></div><div class="ttdoc">Template class for specifying the size of an image or rectangle.</div><div class="ttdef"><b>Definition</b> types.hpp:335</div></div>
<div class="ttc" id="agroup__highgui_html_ga453d42fe4cb60e5723281a89973ee563"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv::imshow</a></div><div class="ttdeci">void imshow(const String &amp;winname, InputArray mat)</div><div class="ttdoc">Displays an image in the specified window.</div></div>
<div class="ttc" id="agroup__highgui_html_ga5628525ad33f52eab17feebcfba38bd7"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv::waitKey</a></div><div class="ttdeci">int waitKey(int delay=0)</div><div class="ttdoc">Waits for a pressed key.</div></div>
<div class="ttc" id="agroup__imgproc__draw_html_ga5126f47f883d730f633d74f07456c576"><div class="ttname"><a href="../../d6/d6e/group__imgproc__draw.html#ga5126f47f883d730f633d74f07456c576">cv::putText</a></div><div class="ttdeci">void putText(InputOutputArray img, const String &amp;text, Point org, int fontFace, double fontScale, Scalar color, int thickness=1, int lineType=LINE_8, bool bottomLeftOrigin=false)</div><div class="ttdoc">Draws a text string.</div></div>
<div class="ttc" id="agroup__imgproc__filter_html_ga564869aa33e58769b4469101aac458f9"><div class="ttname"><a href="../../d4/d86/group__imgproc__filter.html#ga564869aa33e58769b4469101aac458f9">cv::medianBlur</a></div><div class="ttdeci">void medianBlur(InputArray src, OutputArray dst, int ksize)</div><div class="ttdoc">Blurs an image using the median filter.</div></div>
<div class="ttc" id="agroup__imgproc__filter_html_ga8c45db9afe636703801b0b2e440fce37"><div class="ttname"><a href="../../d4/d86/group__imgproc__filter.html#ga8c45db9afe636703801b0b2e440fce37">cv::blur</a></div><div class="ttdeci">void blur(InputArray src, OutputArray dst, Size ksize, Point anchor=Point(-1,-1), int borderType=BORDER_DEFAULT)</div><div class="ttdoc">Blurs an image using the normalized box filter.</div></div>
<div class="ttc" id="agroup__imgproc__filter_html_ga9d7064d478c95d60003cf839430737ed"><div class="ttname"><a href="../../d4/d86/group__imgproc__filter.html#ga9d7064d478c95d60003cf839430737ed">cv::bilateralFilter</a></div><div class="ttdeci">void bilateralFilter(InputArray src, OutputArray dst, int d, double sigmaColor, double sigmaSpace, int borderType=BORDER_DEFAULT)</div><div class="ttdoc">Applies the bilateral filter to an image.</div></div>
<div class="ttc" id="agroup__imgproc__filter_html_gaabe8c836e97159a9193fb0b11ac52cf1"><div class="ttname"><a href="../../d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1">cv::GaussianBlur</a></div><div class="ttdeci">void GaussianBlur(InputArray src, OutputArray dst, Size ksize, double sigmaX, double sigmaY=0, int borderType=BORDER_DEFAULT)</div><div class="ttdoc">Blurs an image using a Gaussian filter.</div></div>
<div class="ttc" id="ahighgui_8hpp_html"><div class="ttname"><a href="../../d4/dd5/highgui_8hpp.html">highgui.hpp</a></div></div>
<div class="ttc" id="ahighgui__qt_8cpp_html_a0ddf1224851353fc92bfbff6f499fa97"><div class="ttname"><a href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a></div><div class="ttdeci">int main(int argc, char *argv[])</div><div class="ttdef"><b>Definition</b> highgui_qt.cpp:3</div></div>
<div class="ttc" id="aimgcodecs_8hpp_html"><div class="ttname"><a href="../../d6/d87/imgcodecs_8hpp.html">imgcodecs.hpp</a></div></div>
<div class="ttc" id="aimgproc_2include_2opencv2_2imgproc_8hpp_html"><div class="ttname"><a href="../../d1/d4f/imgproc_2include_2opencv2_2imgproc_8hpp.html">imgproc.hpp</a></div></div>
<div class="ttc" id="anamespacecv_html"><div class="ttname"><a href="../../d2/d75/namespacecv.html">cv</a></div><div class="ttdoc">&quot;black box&quot; representation of the file storage associated with a file on disk.</div><div class="ttdef"><b>Definition</b> core.hpp:102</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div><div class="ttdoc">STL namespace.</div></div>
</div><!-- fragment -->  </div> </li>
</ul>
 <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'><ul>
<li><b>Downloadable code</b>: Click <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/java/tutorial_code/ImgProc/Smoothing/Smoothing.java" target="_blank">here</a></li>
<li><b>Code at glance:</b> <div class="fragment"><div class="line"><span class="keyword">import</span> org.opencv.core.*;</div>
<div class="line"><span class="keyword">import</span> org.opencv.highgui.HighGui;</div>
<div class="line"><span class="keyword">import</span> org.opencv.imgcodecs.Imgcodecs;</div>
<div class="line"><span class="keyword">import</span> org.opencv.imgproc.Imgproc;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SmoothingRun {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> DELAY_CAPTION = 1500;</div>
<div class="line">    <span class="keywordtype">int</span> DELAY_BLUR = 100;</div>
<div class="line">    <span class="keywordtype">int</span> MAX_KERNEL_LENGTH = 31;</div>
<div class="line"> </div>
<div class="line">    Mat src = <span class="keyword">new</span> Mat(), dst = <span class="keyword">new</span> Mat();</div>
<div class="line">    String windowName = <span class="stringliteral">&quot;Filter Demo 1&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run(String[] args) {</div>
<div class="line"> </div>
<div class="line">        String filename = ((args.length &gt; 0) ? args[0] : <span class="stringliteral">&quot;../data/lena.jpg&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        src = Imgcodecs.imread(filename, Imgcodecs.IMREAD_COLOR);</div>
<div class="line">        <span class="keywordflow">if</span>( src.empty() ) {</div>
<div class="line">            System.out.println(<span class="stringliteral">&quot;Error opening image&quot;</span>);</div>
<div class="line">            System.out.println(<span class="stringliteral">&quot;Usage: ./Smoothing [image_name -- default ../data/lena.jpg] \n&quot;</span>);</div>
<div class="line">            System.exit(-1);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( displayCaption( <span class="stringliteral">&quot;Original Image&quot;</span> ) != 0 ) { System.exit(0); }</div>
<div class="line"> </div>
<div class="line">        dst = src.clone();</div>
<div class="line">        <span class="keywordflow">if</span>( displayDst( DELAY_CAPTION ) != 0 ) { System.exit(0); }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( displayCaption( <span class="stringliteral">&quot;Homogeneous Blur&quot;</span> ) != 0 ) { System.exit(0); }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.blur(src, dst, <span class="keyword">new</span> <a class="code hl_typedef" href="../../dc/d84/group__core__basic.html#ga346f563897249351a34549137c8532a0">Size</a>(i, i), <span class="keyword">new</span> <a class="code hl_typedef" href="../../dc/d84/group__core__basic.html#ga1e83eafb2d26b3c93f09e8338bcab192">Point</a>(-1, -1));</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( displayCaption( <span class="stringliteral">&quot;Gaussian Blur&quot;</span> ) != 0 ) { System.exit(0); }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.GaussianBlur(src, dst, <span class="keyword">new</span> <a class="code hl_typedef" href="../../dc/d84/group__core__basic.html#ga346f563897249351a34549137c8532a0">Size</a>(i, i), 0, 0);</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( displayCaption( <span class="stringliteral">&quot;Median Blur&quot;</span> ) != 0 ) { System.exit(0); }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.medianBlur(src, dst, i);</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( displayCaption( <span class="stringliteral">&quot;Bilateral Blur&quot;</span> ) != 0 ) { System.exit(0); }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.bilateralFilter(src, dst, i, i * 2, i / 2);</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        displayCaption( <span class="stringliteral">&quot;Done!&quot;</span> );</div>
<div class="line"> </div>
<div class="line">        System.exit(0);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> displayCaption(String caption) {</div>
<div class="line">        dst = Mat.zeros(src.size(), src.type());</div>
<div class="line">        Imgproc.putText(dst, caption,</div>
<div class="line">                <span class="keyword">new</span> <a class="code hl_typedef" href="../../dc/d84/group__core__basic.html#ga1e83eafb2d26b3c93f09e8338bcab192">Point</a>(src.cols() / 4, src.rows() / 2),</div>
<div class="line">                Imgproc.FONT_HERSHEY_COMPLEX, 1, <span class="keyword">new</span> <a class="code hl_typedef" href="../../dc/d84/group__core__basic.html#ga599fe92e910c027be274233eccad7beb">Scalar</a>(255, 255, 255));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> displayDst(DELAY_CAPTION);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> displayDst(<span class="keywordtype">int</span> delay) {</div>
<div class="line">        HighGui.imshow( windowName, dst );</div>
<div class="line">        <span class="keywordtype">int</span> c = HighGui.waitKey( delay );</div>
<div class="line">        <span class="keywordflow">if</span> (c &gt;= 0) { <span class="keywordflow">return</span> -1; }</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>Smoothing {</div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(String[] args) {</div>
<div class="line">        <span class="comment">// Load the native library.</span></div>
<div class="line">        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);</div>
<div class="line">        <span class="keyword">new</span> SmoothingRun().run(args);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__core__basic_html_ga1e83eafb2d26b3c93f09e8338bcab192"><div class="ttname"><a href="../../dc/d84/group__core__basic.html#ga1e83eafb2d26b3c93f09e8338bcab192">cv::Point</a></div><div class="ttdeci">Point2i Point</div><div class="ttdef"><b>Definition</b> types.hpp:209</div></div>
<div class="ttc" id="agroup__core__basic_html_ga346f563897249351a34549137c8532a0"><div class="ttname"><a href="../../dc/d84/group__core__basic.html#ga346f563897249351a34549137c8532a0">cv::Size</a></div><div class="ttdeci">Size2i Size</div><div class="ttdef"><b>Definition</b> types.hpp:370</div></div>
<div class="ttc" id="agroup__core__basic_html_ga599fe92e910c027be274233eccad7beb"><div class="ttname"><a href="../../dc/d84/group__core__basic.html#ga599fe92e910c027be274233eccad7beb">cv::Scalar</a></div><div class="ttdeci">Scalar_&lt; double &gt; Scalar</div><div class="ttdef"><b>Definition</b> types.hpp:702</div></div>
</div><!-- fragment -->  </div> </li>
</ul>
 <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'><ul>
<li><b>Downloadable code</b>: Click <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/python/tutorial_code/imgProc/Smoothing/smoothing.py" target="_blank">here</a></li>
<li><b>Code at glance:</b> <div class="fragment"><div class="line"><span class="keyword">import</span> sys</div>
<div class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"><span class="comment">#  Global Variables</span></div>
<div class="line"> </div>
<div class="line">DELAY_CAPTION = 1500</div>
<div class="line">DELAY_BLUR = 100</div>
<div class="line">MAX_KERNEL_LENGTH = 31</div>
<div class="line"> </div>
<div class="line">src = <span class="keywordtype">None</span></div>
<div class="line">dst = <span class="keywordtype">None</span></div>
<div class="line">window_name = <span class="stringliteral">&#39;Smoothing Demo&#39;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span><a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(argv):</div>
<div class="line">    <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga5afdf8410934fd099df85c75b2e0888b">cv.namedWindow</a>(window_name, cv.WINDOW_AUTOSIZE)</div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Load the source image</span></div>
<div class="line">    imageName = argv[0] <span class="keywordflow">if</span> len(argv) &gt; 0 <span class="keywordflow">else</span> <span class="stringliteral">&#39;lena.jpg&#39;</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">global</span> src</div>
<div class="line">    src = <a class="code hl_function" href="../../d4/da8/group__imgcodecs.html#gab32ee19e22660912565f8140d0f675a8">cv.imread</a>(<a class="code hl_function" href="../../d6/dba/group__core__utils__samples.html#ga3a33b00033b46c698ff6340d95569c13">cv.samples.findFile</a>(imageName))</div>
<div class="line">    <span class="keywordflow">if</span> src <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line">        <span class="keywordflow">print</span> (<span class="stringliteral">&#39;Error opening image&#39;</span>)</div>
<div class="line">        <span class="keywordflow">print</span> (<span class="stringliteral">&#39;Usage: smoothing.py [image_name -- default ../data/lena.jpg] \n&#39;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> -1</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> display_caption(<span class="stringliteral">&#39;Original Image&#39;</span>) != 0:</div>
<div class="line">        <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">global</span> dst</div>
<div class="line">    dst = np.copy(src)</div>
<div class="line">    <span class="keywordflow">if</span> display_dst(DELAY_CAPTION) != 0:</div>
<div class="line">        <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Applying Homogeneous blur</span></div>
<div class="line">    <span class="keywordflow">if</span> display_caption(<span class="stringliteral">&#39;Homogeneous Blur&#39;</span>) != 0:</div>
<div class="line">        <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga8c45db9afe636703801b0b2e440fce37">cv.blur</a>(src, (i, i))</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Applying Gaussian blur</span></div>
<div class="line">    <span class="keywordflow">if</span> display_caption(<span class="stringliteral">&#39;Gaussian Blur&#39;</span>) != 0:</div>
<div class="line">        <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1">cv.GaussianBlur</a>(src, (i, i), 0)</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Applying Median blur</span></div>
<div class="line">    <span class="keywordflow">if</span> display_caption(<span class="stringliteral">&#39;Median Blur&#39;</span>) != 0:</div>
<div class="line">        <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga564869aa33e58769b4469101aac458f9">cv.medianBlur</a>(src, i)</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Applying Bilateral Filter</span></div>
<div class="line">    <span class="keywordflow">if</span> display_caption(<span class="stringliteral">&#39;Bilateral Blur&#39;</span>) != 0:</div>
<div class="line">        <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga9d7064d478c95d60003cf839430737ed">cv.bilateralFilter</a>(src, i, i * 2, i / 2)</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    <span class="comment">#  Done</span></div>
<div class="line">    display_caption(<span class="stringliteral">&#39;Done!&#39;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>display_caption(caption):</div>
<div class="line">    <span class="keyword">global</span> dst</div>
<div class="line">    dst = np.zeros(src.shape, src.dtype)</div>
<div class="line">    rows, cols, _ch = src.shape</div>
<div class="line">    <a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#ga5126f47f883d730f633d74f07456c576">cv.putText</a>(dst, caption,</div>
<div class="line">                (int(cols / 4), int(rows / 2)),</div>
<div class="line">                cv.FONT_HERSHEY_COMPLEX, 1, (255, 255, 255))</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> display_dst(DELAY_CAPTION)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>display_dst(delay):</div>
<div class="line">    <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga453d42fe4cb60e5723281a89973ee563">cv.imshow</a>(window_name, dst)</div>
<div class="line">    c = <a class="code hl_function" href="../../d7/dfc/group__highgui.html#ga5628525ad33f52eab17feebcfba38bd7">cv.waitKey</a>(delay)</div>
<div class="line">    <span class="keywordflow">if</span> c &gt;= 0 : <span class="keywordflow">return</span> -1</div>
<div class="line">    <span class="keywordflow">return</span> 0</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    <a class="code hl_function" href="../../dc/d89/highgui__qt_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a>(sys.argv[1:])</div>
<div class="ttc" id="agroup__core__utils__samples_html_ga3a33b00033b46c698ff6340d95569c13"><div class="ttname"><a href="../../d6/dba/group__core__utils__samples.html#ga3a33b00033b46c698ff6340d95569c13">cv::samples::findFile</a></div><div class="ttdeci">cv::String findFile(const cv::String &amp;relative_path, bool required=true, bool silentMode=false)</div><div class="ttdoc">Try to find requested data file.</div></div>
<div class="ttc" id="agroup__highgui_html_ga5afdf8410934fd099df85c75b2e0888b"><div class="ttname"><a href="../../d7/dfc/group__highgui.html#ga5afdf8410934fd099df85c75b2e0888b">cv::namedWindow</a></div><div class="ttdeci">void namedWindow(const String &amp;winname, int flags=WINDOW_AUTOSIZE)</div><div class="ttdoc">Creates a window.</div></div>
<div class="ttc" id="agroup__imgcodecs_html_gab32ee19e22660912565f8140d0f675a8"><div class="ttname"><a href="../../d4/da8/group__imgcodecs.html#gab32ee19e22660912565f8140d0f675a8">cv::imread</a></div><div class="ttdeci">CV_EXPORTS_W Mat imread(const String &amp;filename, int flags=IMREAD_COLOR)</div><div class="ttdoc">Loads an image from a file.</div></div>
</div><!-- fragment -->  </div> </li>
</ul>
<h1><a class="anchor" id="autotoc_md561"></a>
Explanation</h1>
<p>Let's check the OpenCV functions that involve only the smoothing procedure, since the rest is already known by now.</p>
<h2><a class="anchor" id="autotoc_md562"></a>
Normalized Block Filter:</h2>
<ul>
<li>OpenCV offers the function <b>blur()</b> to perform smoothing with this filter. We specify 4 arguments (more details, check the Reference):<ul>
<li><em>src</em>: Source image</li>
<li><em>dst</em>: Destination image</li>
<li><em>Size( w, h )</em>: Defines the size of the kernel to be used ( of width <em>w</em> pixels and height <em>h</em> pixels)</li>
<li><em>Point(-1, -1)</em>: Indicates where the anchor point (the pixel evaluated) is located with respect to the neighborhood. If there is a negative value, then the center of the kernel is considered the anchor point.</li>
</ul>
</li>
</ul>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        blur( src, dst, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>( i, i ), <a class="code hl_class" href="../../db/d4e/classcv_1_1Point__.html">Point</a>(-1,-1) );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.blur(src, dst, <span class="keyword">new</span> Size(i, i), <span class="keyword">new</span> Point(-1, -1));</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga8c45db9afe636703801b0b2e440fce37">cv.blur</a>(src, (i, i))</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md563"></a>
Gaussian Filter:</h2>
<ul>
<li>It is performed by the function <b>GaussianBlur()</b> : Here we use 4 arguments (more details, check the OpenCV reference):<ul>
<li><em>src</em>: Source image</li>
<li><em>dst</em>: Destination image</li>
<li><em>Size(w, h)</em>: The size of the kernel to be used (the neighbors to be considered). \(w\) and \(h\) have to be odd and positive numbers otherwise the size will be calculated using the \(\sigma_{x}\) and \(\sigma_{y}\) arguments.</li>
<li>\(\sigma_{x}\): The standard deviation in x. Writing \(0\) implies that \(\sigma_{x}\) is calculated using kernel size.</li>
<li>\(\sigma_{y}\): The standard deviation in y. Writing \(0\) implies that \(\sigma_{y}\) is calculated using kernel size.</li>
</ul>
</li>
</ul>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        GaussianBlur( src, dst, <a class="code hl_class" href="../../d6/d50/classcv_1_1Size__.html">Size</a>( i, i ), 0, 0 );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.GaussianBlur(src, dst, <span class="keyword">new</span> Size(i, i), 0, 0);</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1">cv.GaussianBlur</a>(src, (i, i), 0)</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md564"></a>
Median Filter:</h2>
<ul>
<li>This filter is provided by the <b>medianBlur()</b> function: We use three arguments:<ul>
<li><em>src</em>: Source image</li>
<li><em>dst</em>: Destination image, must be the same type as <em>src</em></li>
<li><em>i</em>: Size of the kernel (only one because we use a square window). Must be odd.</li>
</ul>
</li>
</ul>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        medianBlur ( src, dst, i );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.medianBlur(src, dst, i);</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga564869aa33e58769b4469101aac458f9">cv.medianBlur</a>(src, i)</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
</div><!-- fragment -->  </div> <h2><a class="anchor" id="autotoc_md565"></a>
Bilateral Filter</h2>
<ul>
<li>Provided by OpenCV function <b>bilateralFilter()</b> We use 5 arguments:<ul>
<li><em>src</em>: Source image</li>
<li><em>dst</em>: Destination image</li>
<li><em>d</em>: The diameter of each pixel neighborhood.</li>
<li>\(\sigma_{Color}\): Standard deviation in the color space.</li>
<li>\(\sigma_{Space}\): Standard deviation in the coordinate space (in pixel terms)</li>
</ul>
</li>
</ul>
 <div class='newInnerHTML' title='cpp' style='display: none;'>C++</div><div class='toggleable_div label_cpp' style='display: none;'> <div class="fragment"><div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2 )</div>
<div class="line">    {</div>
<div class="line">        bilateralFilter ( src, dst, i, i*2, i/2 );</div>
<div class="line">        <span class="keywordflow">if</span>( display_dst( DELAY_BLUR ) != 0 )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> 0;</div>
<div class="line">        }</div>
<div class="line">    }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='java' style='display: none;'>Java</div><div class='toggleable_div label_java' style='display: none;'> <div class="fragment"><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; MAX_KERNEL_LENGTH; i = i + 2) {</div>
<div class="line">            Imgproc.bilateralFilter(src, dst, i, i * 2, i / 2);</div>
<div class="line">            displayDst(DELAY_BLUR);</div>
<div class="line">        }</div>
</div><!-- fragment -->  </div>  <div class='newInnerHTML' title='python' style='display: none;'>Python</div><div class='toggleable_div label_python' style='display: none;'> <div class="fragment"><div class="line">    <span class="comment"># Remember, bilateral is a bit slow, so as value go higher, it takes long time</span></div>
<div class="line">    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, MAX_KERNEL_LENGTH, 2):</div>
<div class="line">        dst = <a class="code hl_function" href="../../d4/d86/group__imgproc__filter.html#ga9d7064d478c95d60003cf839430737ed">cv.bilateralFilter</a>(src, i, i * 2, i / 2)</div>
<div class="line">        <span class="keywordflow">if</span> display_dst(DELAY_BLUR) != 0:</div>
<div class="line">            <span class="keywordflow">return</span> 0</div>
</div><!-- fragment -->  </div> <h1><a class="anchor" id="autotoc_md566"></a>
Results</h1>
<ul>
<li>The code opens an image (in this case <a href="https://raw.githubusercontent.com/opencv/opencv/4.x/samples/data/lena.jpg" target="_blank">lena.jpg</a>) and display it under the effects of the 4 filters explained.</li>
<li>Here is a snapshot of the image smoothed using <em>medianBlur</em>:</li>
</ul>
<div class="image">
<img src="../../Smoothing_Tutorial_Result_Median_Filter.jpg" alt=""/>
</div>
     </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 21:52:13 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.9.8
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
