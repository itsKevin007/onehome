<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>OpenCV: Contour Features</title>
<link href="../../opencv.ico" rel="shortcut icon" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../tutorial-utils.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams']
  }
};
//<![CDATA[
window.MathJax = {
    loader: {load: ['[tex]/ams']},
    tex: {
        packages: {'[+]': ['ams']},
        macros: {
            matTT: [ "\\[ \\left|\\begin{array}{ccc} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{array}\\right| \\]", 9],
            fork: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ \\end{array} \\right.", 4],
            forkthree: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ \\end{array} \\right.", 6],
            forkfour: ["\\left\\{ \\begin{array}{l l} #1 & \\mbox{#2}\\\\ #3 & \\mbox{#4}\\\\ #5 & \\mbox{#6}\\\\ #7 & \\mbox{#8}\\\\ \\end{array} \\right.", 8],
            vecthree: ["\\begin{bmatrix} #1\\\\ #2\\\\ #3 \\end{bmatrix}", 3],
            vecthreethree: ["\\begin{bmatrix} #1 & #2 & #3\\\\ #4 & #5 & #6\\\\ #7 & #8 & #9 \\end{bmatrix}", 9],
            cameramatrix: ["#1 = \\begin{bmatrix} f_x & 0 & c_x\\\\ 0 & f_y & c_y\\\\ 0 & 0 & 1 \\end{bmatrix}", 1],
            distcoeffs: ["(k_1, k_2, p_1, p_2[, k_3[, k_4, k_5, k_6 [, s_1, s_2, s_3, s_4[, \\tau_x, \\tau_y]]]]) \\text{ of 4, 5, 8, 12 or 14 elements}"],
            distcoeffsfisheye: ["(k_1, k_2, k_3, k_4)"],
            hdotsfor: ["\\dots", 1],
            mathbbm: ["\\mathbb{#1}", 1],
            bordermatrix: ["\\matrix{#1}", 1]
        },
        processEscapes: false
    }
};
//]]>
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<!--#include virtual="/google-search.html"-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../opencv-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenCV
   &#160;<span id="projectnumber">4.10.0</span>
   </div>
   <div id="projectbrief">Open Source Computer Vision</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d6/d00/tutorial_py_root.html">OpenCV-Python Tutorials</a></li><li class="navelem"><a class="el" href="../../d2/d96/tutorial_py_table_of_contents_imgproc.html">Image Processing in OpenCV</a></li><li class="navelem"><a class="el" href="../../d3/d05/tutorial_py_table_of_contents_contours.html">Contours in OpenCV</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Contour Features</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Prev Tutorial:</b> <a class="el" href="../../d4/d73/tutorial_py_contours_begin.html">Contours : Getting Started</a> <br  />
<b>Next Tutorial:</b> <a class="el" href="../../d1/d32/tutorial_py_contour_properties.html">Contour Properties</a> <br  />
 </p>
<h1><a class="anchor" id="autotoc_md1310"></a>
Goal</h1>
<p>In this article, we will learn</p>
<ul>
<li>To find the different features of contours, like area, perimeter, centroid, bounding box etc</li>
<li>You will see plenty of functions related to contours.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1311"></a>
1. Moments</h1>
<p>Image moments help you to calculate some features like center of mass of the object, area of the object etc. Check out the wikipedia page on <a href="http://en.wikipedia.org/wiki/Image_moment" target="_blank">Image Moments</a></p>
<p>The function <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga556a180f43cab22649c23ada36a8a139" title="Calculates all of the moments up to the third order of a polygon or rasterized shape.">cv.moments()</a></b> gives a dictionary of all moment values calculated. See below: </p><div class="fragment"><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</div>
<div class="line"> </div>
<div class="line">img = <a class="code hl_function" href="../../d4/da8/group__imgcodecs.html#gab32ee19e22660912565f8140d0f675a8">cv.imread</a>(<span class="stringliteral">&#39;star.jpg&#39;</span>, cv.IMREAD_GRAYSCALE)</div>
<div class="line"><span class="keyword">assert</span> img <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>, <span class="stringliteral">&quot;file could not be read, check with os.path.exists()&quot;</span></div>
<div class="line">ret,thresh = <a class="code hl_function" href="../../d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57">cv.threshold</a>(img,127,255,0)</div>
<div class="line">contours,hierarchy = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#gadf1ad6a0b82947fa1fe3c3d497f260e0">cv.findContours</a>(thresh, 1, 2)</div>
<div class="line"> </div>
<div class="line">cnt = contours[0]</div>
<div class="line">M = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga556a180f43cab22649c23ada36a8a139">cv.moments</a>(cnt)</div>
<div class="line">print( M )</div>
<div class="ttc" id="agroup__imgcodecs_html_gab32ee19e22660912565f8140d0f675a8"><div class="ttname"><a href="../../d4/da8/group__imgcodecs.html#gab32ee19e22660912565f8140d0f675a8">cv::imread</a></div><div class="ttdeci">CV_EXPORTS_W Mat imread(const String &amp;filename, int flags=IMREAD_COLOR)</div><div class="ttdoc">Loads an image from a file.</div></div>
<div class="ttc" id="agroup__imgproc__misc_html_gae8a4a146d1ca78c626a53577199e9c57"><div class="ttname"><a href="../../d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57">cv::threshold</a></div><div class="ttdeci">double threshold(InputArray src, OutputArray dst, double thresh, double maxval, int type)</div><div class="ttdoc">Applies a fixed-level threshold to each array element.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_ga556a180f43cab22649c23ada36a8a139"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga556a180f43cab22649c23ada36a8a139">cv::moments</a></div><div class="ttdeci">Moments moments(InputArray array, bool binaryImage=false)</div><div class="ttdoc">Calculates all of the moments up to the third order of a polygon or rasterized shape.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_gadf1ad6a0b82947fa1fe3c3d497f260e0"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#gadf1ad6a0b82947fa1fe3c3d497f260e0">cv::findContours</a></div><div class="ttdeci">void findContours(InputArray image, OutputArrayOfArrays contours, OutputArray hierarchy, int mode, int method, Point offset=Point())</div><div class="ttdoc">Finds contours in a binary image.</div></div>
</div><!-- fragment --><p> From this moments, you can extract useful data like area, centroid etc. Centroid is given by the relations, \(C_x = \frac{M_{10}}{M_{00}}\) and \(C_y = \frac{M_{01}}{M_{00}}\). This can be done as follows: </p><div class="fragment"><div class="line">cx = int(M[<span class="stringliteral">&#39;m10&#39;</span>]/M[<span class="stringliteral">&#39;m00&#39;</span>])</div>
<div class="line">cy = int(M[<span class="stringliteral">&#39;m01&#39;</span>]/M[<span class="stringliteral">&#39;m00&#39;</span>])</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1312"></a>
2. Contour Area</h1>
<p>Contour area is given by the function <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga2c759ed9f497d4a618048a2f56dc97f1" title="Calculates a contour area.">cv.contourArea()</a></b> or from moments, <b>M['m00']</b>. </p><div class="fragment"><div class="line">area = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga2c759ed9f497d4a618048a2f56dc97f1">cv.contourArea</a>(cnt)</div>
<div class="ttc" id="agroup__imgproc__shape_html_ga2c759ed9f497d4a618048a2f56dc97f1"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga2c759ed9f497d4a618048a2f56dc97f1">cv::contourArea</a></div><div class="ttdeci">double contourArea(InputArray contour, bool oriented=false)</div><div class="ttdoc">Calculates a contour area.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1313"></a>
3. Contour Perimeter</h1>
<p>It is also called arc length. It can be found out using <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga8d26483c636be6b35c3ec6335798a47c" title="Calculates a contour perimeter or a curve length.">cv.arcLength()</a></b> function. Second argument specify whether shape is a closed contour (if passed True), or just a curve. </p><div class="fragment"><div class="line">perimeter = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga8d26483c636be6b35c3ec6335798a47c">cv.arcLength</a>(cnt,<span class="keyword">True</span>)</div>
<div class="ttc" id="agroup__imgproc__shape_html_ga8d26483c636be6b35c3ec6335798a47c"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga8d26483c636be6b35c3ec6335798a47c">cv::arcLength</a></div><div class="ttdeci">double arcLength(InputArray curve, bool closed)</div><div class="ttdoc">Calculates a contour perimeter or a curve length.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1314"></a>
4. Contour Approximation</h1>
<p>It approximates a contour shape to another shape with less number of vertices depending upon the precision we specify. It is an implementation of <a href="http://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm" target="_blank">Douglas-Peucker algorithm</a>. Check the wikipedia page for algorithm and demonstration.</p>
<p>To understand this, suppose you are trying to find a square in an image, but due to some problems in the image, you didn't get a perfect square, but a "bad shape" (As shown in first image below). Now you can use this function to approximate the shape. In this, second argument is called epsilon, which is maximum distance from contour to approximated contour. It is an accuracy parameter. A wise selection of epsilon is needed to get the correct output. </p><div class="fragment"><div class="line">epsilon = 0.1*<a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga8d26483c636be6b35c3ec6335798a47c">cv.arcLength</a>(cnt,<span class="keyword">True</span>)</div>
<div class="line">approx = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c">cv.approxPolyDP</a>(cnt,epsilon,<span class="keyword">True</span>)</div>
<div class="ttc" id="agroup__imgproc__shape_html_ga0012a5fdaea70b8a9970165d98722b4c"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga0012a5fdaea70b8a9970165d98722b4c">cv::approxPolyDP</a></div><div class="ttdeci">void approxPolyDP(InputArray curve, OutputArray approxCurve, double epsilon, bool closed)</div><div class="ttdoc">Approximates a polygonal curve(s) with the specified precision.</div></div>
</div><!-- fragment --><p> Below, in second image, green line shows the approximated curve for epsilon = 10% of arc length. Third image shows the same for epsilon = 1% of the arc length. Third argument specifies whether curve is closed or not.</p>
<div class="image">
<img src="../../approx.jpg" alt=""/>
<div class="caption">
image</div></div>
    <h1><a class="anchor" id="autotoc_md1315"></a>
5. Convex Hull</h1>
<p>Convex Hull will look similar to contour approximation, but it is not (Both may provide same results in some cases). Here, <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga014b28e56cb8854c0de4a211cb2be656" title="Finds the convex hull of a point set.">cv.convexHull()</a></b> function checks a curve for convexity defects and corrects it. Generally speaking, convex curves are the curves which are always bulged out, or at-least flat. And if it is bulged inside, it is called convexity defects. For example, check the below image of hand. Red line shows the convex hull of hand. The double-sided arrow marks shows the convexity defects, which are the local maximum deviations of hull from contours.</p>
<div class="image">
<img src="../../convexitydefects.jpg" alt=""/>
<div class="caption">
image</div></div>
    <p>There is a little bit things to discuss about it its syntax: </p><div class="fragment"><div class="line">hull = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga014b28e56cb8854c0de4a211cb2be656">cv.convexHull</a>(points[, hull[, clockwise[, returnPoints]]])</div>
<div class="ttc" id="agroup__imgproc__shape_html_ga014b28e56cb8854c0de4a211cb2be656"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga014b28e56cb8854c0de4a211cb2be656">cv::convexHull</a></div><div class="ttdeci">void convexHull(InputArray points, OutputArray hull, bool clockwise=false, bool returnPoints=true)</div><div class="ttdoc">Finds the convex hull of a point set.</div></div>
</div><!-- fragment --><p> Arguments details:</p>
<ul>
<li><b>points</b> are the contours we pass into.</li>
<li><b>hull</b> is the output, normally we avoid it.</li>
<li><b>clockwise</b> : Orientation flag. If it is True, the output convex hull is oriented clockwise. Otherwise, it is oriented counter-clockwise.</li>
<li><b>returnPoints</b> : By default, True. Then it returns the coordinates of the hull points. If False, it returns the indices of contour points corresponding to the hull points.</li>
</ul>
<p>So to get a convex hull as in above image, following is sufficient: </p><div class="fragment"><div class="line">hull = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga014b28e56cb8854c0de4a211cb2be656">cv.convexHull</a>(cnt)</div>
</div><!-- fragment --><p> But if you want to find convexity defects, you need to pass returnPoints = False. To understand it, we will take the rectangle image above. First I found its contour as cnt. Now I found its convex hull with returnPoints = True, I got following values: [[[234 202]], [[ 51 202]], [[ 51 79]], [[234 79]]] which are the four corner points of rectangle. Now if do the same with returnPoints = False, I get following result: [[129],[ 67],[ 0],[142]]. These are the indices of corresponding points in contours. For eg, check the first value: cnt[129] = [[234, 202]] which is same as first result (and so on for others).</p>
<p>You will see it again when we discuss about convexity defects.</p>
<h1><a class="anchor" id="autotoc_md1316"></a>
6. Checking Convexity</h1>
<p>There is a function to check if a curve is convex or not, <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga8abf8010377b58cbc16db6734d92941b" title="Tests a contour convexity.">cv.isContourConvex()</a></b>. It just return whether True or False. Not a big deal. </p><div class="fragment"><div class="line">k = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga8abf8010377b58cbc16db6734d92941b">cv.isContourConvex</a>(cnt)</div>
<div class="ttc" id="agroup__imgproc__shape_html_ga8abf8010377b58cbc16db6734d92941b"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga8abf8010377b58cbc16db6734d92941b">cv::isContourConvex</a></div><div class="ttdeci">bool isContourConvex(InputArray contour)</div><div class="ttdoc">Tests a contour convexity.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1317"></a>
7. Bounding Rectangle</h1>
<p>There are two types of bounding rectangles.</p>
<h2><a class="anchor" id="autotoc_md1318"></a>
7.a. Straight Bounding Rectangle</h2>
<p>It is a straight rectangle, it doesn't consider the rotation of the object. So area of the bounding rectangle won't be minimum. It is found by the function <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga103fcbda2f540f3ef1c042d6a9b35ac7" title="Calculates the up-right bounding rectangle of a point set or non-zero pixels of gray-scale image.">cv.boundingRect()</a></b>.</p>
<p>Let (x,y) be the top-left coordinate of the rectangle and (w,h) be its width and height. </p><div class="fragment"><div class="line">x,y,w,h = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga103fcbda2f540f3ef1c042d6a9b35ac7">cv.boundingRect</a>(cnt)</div>
<div class="line"><a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#ga07d2f74cadcf8e305e810ce8eed13bc9">cv.rectangle</a>(img,(x,y),(x+w,y+h),(0,255,0),2)</div>
<div class="ttc" id="agroup__imgproc__draw_html_ga07d2f74cadcf8e305e810ce8eed13bc9"><div class="ttname"><a href="../../d6/d6e/group__imgproc__draw.html#ga07d2f74cadcf8e305e810ce8eed13bc9">cv::rectangle</a></div><div class="ttdeci">void rectangle(InputOutputArray img, Point pt1, Point pt2, const Scalar &amp;color, int thickness=1, int lineType=LINE_8, int shift=0)</div><div class="ttdoc">Draws a simple, thick, or filled up-right rectangle.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_ga103fcbda2f540f3ef1c042d6a9b35ac7"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga103fcbda2f540f3ef1c042d6a9b35ac7">cv::boundingRect</a></div><div class="ttdeci">Rect boundingRect(InputArray array)</div><div class="ttdoc">Calculates the up-right bounding rectangle of a point set or non-zero pixels of gray-scale image.</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1319"></a>
7.b. Rotated Rectangle</h2>
<p>Here, bounding rectangle is drawn with minimum area, so it considers the rotation also. The function used is <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga3d476a3417130ae5154aea421ca7ead9" title="Finds a rotated rectangle of the minimum area enclosing the input 2D point set.">cv.minAreaRect()</a></b>. It returns a Box2D structure which contains following details - ( center (x,y), (width, height), angle of rotation ). But to draw this rectangle, we need 4 corners of the rectangle. It is obtained by the function <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#gaf78d467e024b4d7936cf9397185d2f5c" title="Finds the four vertices of a rotated rect. Useful to draw the rotated rectangle.">cv.boxPoints()</a></b> </p><div class="fragment"><div class="line">rect = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga3d476a3417130ae5154aea421ca7ead9">cv.minAreaRect</a>(cnt)</div>
<div class="line">box = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#gaf78d467e024b4d7936cf9397185d2f5c">cv.boxPoints</a>(rect)</div>
<div class="line">box = np.int0(box)</div>
<div class="line"><a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#ga746c0625f1781f1ffc9056259103edbc">cv.drawContours</a>(img,[box],0,(0,0,255),2)</div>
<div class="ttc" id="agroup__imgproc__draw_html_ga746c0625f1781f1ffc9056259103edbc"><div class="ttname"><a href="../../d6/d6e/group__imgproc__draw.html#ga746c0625f1781f1ffc9056259103edbc">cv::drawContours</a></div><div class="ttdeci">void drawContours(InputOutputArray image, InputArrayOfArrays contours, int contourIdx, const Scalar &amp;color, int thickness=1, int lineType=LINE_8, InputArray hierarchy=noArray(), int maxLevel=INT_MAX, Point offset=Point())</div><div class="ttdoc">Draws contours outlines or filled contours.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_ga3d476a3417130ae5154aea421ca7ead9"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga3d476a3417130ae5154aea421ca7ead9">cv::minAreaRect</a></div><div class="ttdeci">RotatedRect minAreaRect(InputArray points)</div><div class="ttdoc">Finds a rotated rectangle of the minimum area enclosing the input 2D point set.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_gaf78d467e024b4d7936cf9397185d2f5c"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#gaf78d467e024b4d7936cf9397185d2f5c">cv::boxPoints</a></div><div class="ttdeci">void boxPoints(RotatedRect box, OutputArray points)</div><div class="ttdoc">Finds the four vertices of a rotated rect. Useful to draw the rotated rectangle.</div></div>
</div><!-- fragment --><p> Both the rectangles are shown in a single image. Green rectangle shows the normal bounding rect. Red rectangle is the rotated rect.</p>
<div class="image">
<img src="../../boundingrect.png" alt=""/>
<div class="caption">
image</div></div>
    <h1><a class="anchor" id="autotoc_md1320"></a>
8. Minimum Enclosing Circle</h1>
<p>Next we find the circumcircle of an object using the function <b><a class="el" href="../../d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1" title="Finds a circle of the minimum area enclosing a 2D point set.">cv.minEnclosingCircle()</a></b>. It is a circle which completely covers the object with minimum area. </p><div class="fragment"><div class="line">(x,y),radius = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1">cv.minEnclosingCircle</a>(cnt)</div>
<div class="line">center = (int(x),int(y))</div>
<div class="line">radius = int(radius)</div>
<div class="line"><a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#gaf10604b069374903dbd0f0488cb43670">cv.circle</a>(img,center,radius,(0,255,0),2)</div>
<div class="ttc" id="agroup__imgproc__draw_html_gaf10604b069374903dbd0f0488cb43670"><div class="ttname"><a href="../../d6/d6e/group__imgproc__draw.html#gaf10604b069374903dbd0f0488cb43670">cv::circle</a></div><div class="ttdeci">void circle(InputOutputArray img, Point center, int radius, const Scalar &amp;color, int thickness=1, int lineType=LINE_8, int shift=0)</div><div class="ttdoc">Draws a circle.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_ga8ce13c24081bbc7151e9326f412190f1"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#ga8ce13c24081bbc7151e9326f412190f1">cv::minEnclosingCircle</a></div><div class="ttdeci">void minEnclosingCircle(InputArray points, Point2f &amp;center, float &amp;radius)</div><div class="ttdoc">Finds a circle of the minimum area enclosing a 2D point set.</div></div>
</div><!-- fragment --><p> <img src="../../circumcircle.png" alt="" class="inline" title="image"/>    </p>
<h1><a class="anchor" id="autotoc_md1321"></a>
9. Fitting an Ellipse</h1>
<p>Next one is to fit an ellipse to an object. It returns the rotated rectangle in which the ellipse is inscribed. </p><div class="fragment"><div class="line">ellipse = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#gaf259efaad93098103d6c27b9e4900ffa">cv.fitEllipse</a>(cnt)</div>
<div class="line"><a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#ga28b2267d35786f5f890ca167236cbc69">cv.ellipse</a>(img,ellipse,(0,255,0),2)</div>
<div class="ttc" id="agroup__imgproc__draw_html_ga28b2267d35786f5f890ca167236cbc69"><div class="ttname"><a href="../../d6/d6e/group__imgproc__draw.html#ga28b2267d35786f5f890ca167236cbc69">cv::ellipse</a></div><div class="ttdeci">void ellipse(InputOutputArray img, Point center, Size axes, double angle, double startAngle, double endAngle, const Scalar &amp;color, int thickness=1, int lineType=LINE_8, int shift=0)</div><div class="ttdoc">Draws a simple or thick elliptic arc or fills an ellipse sector.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_gaf259efaad93098103d6c27b9e4900ffa"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#gaf259efaad93098103d6c27b9e4900ffa">cv::fitEllipse</a></div><div class="ttdeci">RotatedRect fitEllipse(InputArray points)</div><div class="ttdoc">Fits an ellipse around a set of 2D points.</div></div>
</div><!-- fragment --><p> <img src="../../fitellipse.png" alt="" class="inline" title="image"/>    </p>
<h1><a class="anchor" id="autotoc_md1322"></a>
10. Fitting a Line</h1>
<p>Similarly we can fit a line to a set of points. Below image contains a set of white points. We can approximate a straight line to it. </p><div class="fragment"><div class="line">rows,cols = img.shape[:2]</div>
<div class="line">[vx,vy,x,y] = <a class="code hl_function" href="../../d3/dc0/group__imgproc__shape.html#gaf849da1fdafa67ee84b1e9a23b93f91f">cv.fitLine</a>(cnt, cv.DIST_L2,0,0.01,0.01)</div>
<div class="line">lefty = int((-x*vy/vx) + y)</div>
<div class="line">righty = int(((cols-x)*vy/vx)+y)</div>
<div class="line"><a class="code hl_function" href="../../d6/d6e/group__imgproc__draw.html#ga7078a9fae8c7e7d13d24dac2520ae4a2">cv.line</a>(img,(cols-1,righty),(0,lefty),(0,255,0),2)</div>
<div class="ttc" id="agroup__imgproc__draw_html_ga7078a9fae8c7e7d13d24dac2520ae4a2"><div class="ttname"><a href="../../d6/d6e/group__imgproc__draw.html#ga7078a9fae8c7e7d13d24dac2520ae4a2">cv::line</a></div><div class="ttdeci">void line(InputOutputArray img, Point pt1, Point pt2, const Scalar &amp;color, int thickness=1, int lineType=LINE_8, int shift=0)</div><div class="ttdoc">Draws a line segment connecting two points.</div></div>
<div class="ttc" id="agroup__imgproc__shape_html_gaf849da1fdafa67ee84b1e9a23b93f91f"><div class="ttname"><a href="../../d3/dc0/group__imgproc__shape.html#gaf849da1fdafa67ee84b1e9a23b93f91f">cv::fitLine</a></div><div class="ttdeci">void fitLine(InputArray points, OutputArray line, int distType, double param, double reps, double aeps)</div><div class="ttdoc">Fits a line to a 2D or 3D point set.</div></div>
</div><!-- fragment --><p> <img src="../../fitline.jpg" alt="" class="inline" title="image"/>    </p>
<h1><a class="anchor" id="autotoc_md1323"></a>
Additional Resources</h1>
<h1><a class="anchor" id="autotoc_md1324"></a>
Exercises</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 2 2024 21:52:14 for OpenCV by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.9.8
</small></address>
<script type="text/javascript">
//<![CDATA[
addTutorialsButtons();
//]]>
</script>
</body>
</html>
